{"version":3,"sources":["components/dialogs/message/message.module.css","components/common/profile-photo/profile-photo.module.css","redux/dialogs-reducer.js","components/dialogs/dialog-item/index.js","components/dialogs/dialog-item/dialog-item.js","components/dialogs/message/index.js","components/dialogs/message/message.js","utils/validators/validators.js","components/common/form-controls/forms-control.js","components/dialogs/add-message-form.js","components/dialogs/dialogs.js","hoc/auth-redirect.js","components/dialogs/dialogs-container.js","components/common/paginator/paginator.js","components/common/profile-photo/profile-photo.jpg","components/common/profile-photo/profile-photo.js","components/users/user.js","components/users/users.js","api/api.js","utils/object-helpers.js","redux/users-reducer.js","components/common/preloader/preloader.svg","components/common/preloader/preloader.js","redux/users-selectors.js","components/users/users-container.js","redux/profile-reducer.js","components/profile/my-posts/post/index.js","components/profile/my-posts/post/post.js","components/profile/my-posts/my-posts.js","components/profile/my-posts/my-posts-container.js","components/profile/profile-info/profile-status/profile-status-with-hooks.js","components/profile/profile-info/profile-data-form.js","components/profile/profile-info/profile-info.js","components/profile/profile-info/index.js","components/profile/profile.js","components/profile/profile-container.js","components/header/header.js","redux/auth-reducer.js","components/header/header-container.js","components/login/login.js","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/with-suspence.js","components/app/app.js","serviceWorker.js","index.js","components/common/form-controls/forms-control.module.css","components/dialogs/dialogs.module.css","components/dialogs/dialog-item/dialog-item.module.css","components/common/paginator/paginator.module.css"],"names":["module","exports","SEND_MESSAGE","initialState","dialogs","id","name","messages","text","dialogsReducer","state","action","type","body","newMessageBody","message","DialogItem","props","path","className","s","dialog","active","to","nameLink","Message","oldMessages","required","value","maxLengthCreator","maxLength","length","FormControl","input","meta","touched","error","children","hasError","styles","formControl","Textarea","restProps","child","Input","createField","placeholder","validators","component","Field","validate","maxLength50","reduxForm","form","onSubmit","handleSubmit","Dialogs","dialogsPage","dialogsElements","map","d","key","messagesElements","m","isAuth","dialogsItems","values","sendMessage","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","console","log","this","React","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginator","onClick","filter","p","selectedPage","pageNumber","e","ProfilePhoto","photo","src","image","alt","userPhoto","User","user","followingInProgress","unfollow","follow","photos","small","status","followed","disabled","some","Users","totalUsersCount","users","u","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","get","then","response","data","delete","post","getProfile","userId","profileAPI","getStatus","updateStatus","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","email","password","rememberMe","captcha","securityAPI","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","isFetching","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","a","resultCode","usersReducer","count","Preloader","preloader","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","bind","page","totalCount","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","likes","setStatus","getUserProfile","profileReducer","newPost","newPostText","Post","likesCount","maxLength10","AddNewPostFormRedux","MyPosts","memo","postsElements","reverse","htmlFor","addPost","MyPostsContainer","profilePage","addPostActionCreator","ProfileStatusWithHooks","editMode","setEditMode","useEffect","onDoubleClick","onChange","currentTarget","onBlur","autoFocus","ProfileDataFormReduxForm","Object","keys","contacts","class-name","class","ProfileData","isOwner","goToEditMode","scope","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","href","ProfileInfo","large","target","files","fullName","initialValues","Profile","ProfileContainer","match","params","authorizedUserId","history","refreshProfile","prevProps","prevState","snapshot","file","getState","stopSubmit","_error","Promise","reject","withRouter","Header","login","logout","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","getCaptchaUrl","url","authReducer","HeaderContainer","LoginReduxForm","formSummaryError","INITIALIZED_SUCCESS","initialized","globalError","appReducer","sidebarReducer","reducers","combineReducers","sideBar","UsersReducer","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","App","catchAllUnhandledErrors","reason","promise","alert","initializeApp","addEventListener","removeEventListener","exact","render","DialogsContainer","AppContainer","all","SamuraiJSApp","basename","process","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.a2a57a22.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"message_message__d8OzE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"profile-photo_userPhoto__3jE6C\"};","const SEND_MESSAGE = 'SEND_MESSAGE';\n\nlet initialState = {\n    dialogs: [\n        { id: 1, name: 'Luda' },\n        { id: 2, name: 'Sasha' },\n        { id: 3, name: 'Vika' },\n        { id: 4, name: 'Nika' }\n      ],\n\n      messages: [\n        { id: 1, text: 'Hi' },\n        { id: 2, text: 'How are you?' },\n        { id: 3, text: 'What is your name?' },\n        { id: 4, text: 'What is your favorite color? ' }\n      ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n\n    switch(action.type) {\n        case SEND_MESSAGE:\n            let body = action.newMessageBody;\n            return { \n                ...state, \n                messages: [...state.messages, { id: 6, message: body }], \n            }; \n        default:\n            return state;\n    }\n}\n\nexport let sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\n    \n\nexport default dialogsReducer;","import DialogItem from './dialog-item';\n\nexport default DialogItem;","import React from 'react';\nimport s from './dialog-item.module.css';\nimport { NavLink } from 'react-router-dom';\n\n\nconst DialogItem = (props) => {\n    let path = '/dialogs/' + props.id;\n    \n    return(\n        <div className={ s.dialog + ' ' + s.active }>\n            <NavLink to={ path } className={ s.nameLink }>{ props.name }</NavLink>\n        </div>\n    )\n};\n\nexport default DialogItem;","import Message from './message';\n\nexport default Message;","import React from 'react';\nimport s from './message.module.css';\n\nconst Message = (props) => {\n    return(\n        <div className={ s.message }>{ props.message} { props.oldMessages }</div>\n    )\n};\n\nexport default Message;","\nexport const required = value => {\n     if (value) return undefined;\n     return 'Field is required';\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\n    return undefined;\n}","import React from \"react\";\nimport styles from \"./forms-control.module.css\";\nimport {Field} from \"redux-form\";\n\nconst FormControl = ({input, meta: {touched, error}, children}) => {\n    const hasError = touched && error;\n    return (\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\n            <div>\n                {children}\n            </div>\n            {hasError && <span>{error}</span>}\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const {input, meta, child, ...restProps} = props;\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\n}\n\nexport const Input = (props) => {\n    const {input, meta, child, ...restProps} = props;\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\n}\n\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => (\n    <div>\n        <Field placeholder={placeholder} name={name}\n               validate={validators}\n               component={component}\n               {...props}\n        /> {text}\n    </div>\n)\n\n\n","import React from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\nimport { Textarea } from '../common/form-controls/forms-control';\n\n\nconst maxLength50 = maxLengthCreator(50);\n\nconst AddMessageForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field component={ Textarea } \n                        validate={ [required, maxLength50] } \n                        placeholder='Enter your message' \n                        name='newMessageBody'/>\n            </div>\n            <div>\n                <button>Send</button>\n            </div>\n        </form>\n    )\n}\n\nexport default reduxForm({form: 'dialog-add-message-form'})(AddMessageForm);","import React from 'react';\nimport s from './dialogs.module.css';\nimport DialogItem from './dialog-item';\nimport Message from './message';\nimport { Redirect } from 'react-router-dom';\nimport AddMessageForm from './add-message-form';\n\n\nconst Dialogs = (props) => {\n\n    let state = props.dialogsPage;\n    let dialogsElements = state.dialogs.map( \n        d => <DialogItem name={ d.name } id={ d.id } key={ d.id }/> );\n    let messagesElements = state.messages.map( \n        m => <Message message={ m.message } oldMessages={ m.text } key={ m.id }/> );\n    // let newMessageBody = state.newMessageBody;\n    \n    let addNewMessage = (values) => {\n        props.sendMessage(values.newMessageBody);\n    };\n    \n    if (!props.isAuth) return <Redirect to={'/login'} />\n\n\n    return(\n        <div className={ s.dialogs }>\n            <div className={ s.dialogsItems }>\n               { dialogsElements }\n            </div>\n            <div className={ s.messages }>\n                { messagesElements }\n                <AddMessageForm onSubmit={ addNewMessage }/>\n            </div>\n        </div>\n    )\n};\n\nexport default Dialogs;","import { Redirect } from \"react-router-dom\"\nimport React from 'react';\nimport { connect } from \"react-redux\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth\n});\n\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render() {\n            console.log(this.props)\n            if (!this.props.isAuth) return <Redirect to='/login' />\n            return <Component { ...this.props } />\n        }\n    }\n\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\n    \n    return ConnectedAuthRedirectComponent;\n}","import { sendMessageCreator } from '../../redux/dialogs-reducer';\nimport Dialogs from './dialogs';\nimport { connect } from 'react-redux';\nimport { withAuthRedirect } from '../../hoc/auth-redirect';\nimport { compose } from 'redux';\n\n\nlet mapStateToProps = (state) => {\n    return {\n        dialogsPage: state.dialogsPage\n        // isAuth: state.auth.isAuth \n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        sendMessage: (newMessageBody) => {\n            dispatch(sendMessageCreator(newMessageBody));\n        }\n    }\n}\n\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect\n)(Dialogs)","import React, {useState} from 'react';\nimport styles from \"./paginator.module.css\";\nimport cn from \"classnames\";\n\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n\n    return <div className={cn(styles.paginator)}>\n        { portionNumber > 1 &&\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\n\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\n                .map((p) => {\n                return <span className={ cn({\n                    [styles.selectedPage]: currentPage === p\n                }, styles.pageNumber) }\n                             key={p}\n                             onClick={(e) => {\n                                 onPageChanged(p);\n                             }}>{p}</span>\n            })}\n        { portionCount > portionNumber &&\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\n\n\n    </div>\n}\n\nexport default Paginator;","export default \"data:image/jpeg;base64,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/wD/AHzzzzzzzzzzzzzzzzzz7/8A/wD/AP8A/wD/APjTzzzzzzzzzzzzzzzzzzzzzzzx/wA88888888sKyyyyyyym8888888888888888v8APPPPPPPPPPGvfffffffPPPPPPPPPPPPPPPKE/PPPPPPPPPKH/PPPPPPPPPPPPPPPPPPPPPPHuMt//wD/AP8A/wD+/Xzzzzzzzzzzzzzzzzzzzyg4444wkMMMMcogP3zzzzzzzzzzzzzzzzzzzzwwwwwmnboANPEoP3zzzzzzzzzzzzzzzzzzzzzzzzy4OHKNgo8sNNTzzjzzzzzzzzzzzzzzzzzzzzyAAPFeioEMOuyMObzzzzzzzzzzzzzzzzzzzzwjDPPMPnPfurzzzzzzzzzzzzzzzzzzzzzzzzzzzzdozCjyi3zzzzzzzzzzzzzzzzzzzzj33333TyyoIVzyj3zzzzzzzzzzzzzzzzzzzz04445rTzzzzzzyj3zzzzzzzzzzzzzzzzzzzzzzzzyyjzzzzzzzh3zzzzzzzzzzzzzzzzzy0MMMMMNZVrzzzzz/AKDWULDDD888888888888ssMMMMMM89IW5w7nMMM8MMMM888888888888888888gAAAACyCAAAV88888888888888888888888ssMMMMMMMMMMNc88888888888888888888888888888888099958888888888888888888888888888888tMMMN88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888/8QAKBEAAwAABQMFAAIDAAAAAAAAAAERECExQGEgUfAwQVChsXDBcYGR/9oACAEDAQE/EP5mjIyMnwCc6A3fnE0ioqKioqKioqKhiKioqKioqKioqHs1NWnih4oeKHih4oeKHih4oeKGqBqbn7XprMmffcgAGb/t9S1NVoVlZWVlZWV7Fy19ha9QWJd3uG1c7RwSZmkcZxnGcZxnGcZxixXL/d2DQ6k8TT0w+y/3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\"","import React from 'react';\nimport image from './profile-photo.jpg';\nimport styles from './profile-photo.module.css';\n\n\n\nconst ProfilePhoto = ({ photo }) => {\n\n    return (\n        <img src={ photo != null ? photo : image } \n                        alt='avatar' className={ styles.userPhoto }/>\n    )\n}\n\nexport default ProfilePhoto;","import React from 'react';\n// import image from './users-image.jpg';\nimport { NavLink } from 'react-router-dom';\nimport ProfilePhoto from '../common/profile-photo/profile-photo';\nimport './users.css';\n\n\n\n\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\n\n    return (\n        <div className='users'>\n            <div className='container'>\n                <div className='row'>\n                    <div className='col-4'> </div>\n                    <div className='col-2'>\n                        <NavLink to={ '/profile/' + user.id }>\n                        <ProfilePhoto photo={ user.photos.small }/>\n                        {/* <img src={ user.photos.small != null ? user.photos.small : image } \n                            alt='avatar' className={ styles.userPhoto }/> */}\n                        </NavLink>\n                    </div>\n                        <div className='col-3'>\n                            <span>\n                                <h5>{ user.name }</h5>\n                                <div>{ user.status }</div>\n                            </span>\n                            <span>\n                            <div className=''>\n                        { user.followed \n                            ? <button disabled={ followingInProgress\n                                .some( id => id === user.id) } \n                                    onClick={ () => { unfollow(user.id); } }>\n                                    Unfollow</button>\n\n                            : <button disabled={ followingInProgress\n                                .some( id => id === user.id) } \n                                    onClick={ () => { follow(user.id) } }>\n                                    Follow</button>}\n                    </div>\n                            </span>\n                        </div>\n                        <div className='col-4'></div>\n                \n                    </div>\n            </div>\n            {/* <div className='container'> \n                <div className='row'> \n                    <div className='col-4'></div>\n                    <div className='col-4'>\n                        { user.followed \n                            ? <button disabled={ followingInProgress\n                                .some( id => id === user.id) } \n                                    onClick={ () => { unfollow(user.id); } }>\n                                    Unfollow</button>\n\n                            : <button disabled={ followingInProgress\n                                .some( id => id === user.id) } \n                                    onClick={ () => { follow(user.id) } }>\n                                    Follow</button>}\n                    </div>\n                    <div className='col-4'></div>\n                </div>\n            </div> */}\n        </div>\n\n        )\n}\n\n\nexport default User;","import React from 'react';\nimport Paginator from '../common/paginator/paginator';\nimport User from './user';\n\n\nconst Users = ({ currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props }) => {\n\n    const pagesCount = Math.ceil (props.totalUsersCount / props.pageSize);\n        \n    let pages = [];\n    for (let i=1; i <= pagesCount; i++ ) {\n        pages.push(i);\n    }\n\n    return (\n        <div>\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\n            \n            <div>\n                { users.map( u => <User user={ u }\n                                        followingInProgress={ props.followingInProgress }\n                                        key={ u.id }\n                                        unfollow={ props.unfollow }\n                                        follow={ props.follow }/>\n                )}\n            </div>\n       </div>\n    )\n}\n\n\nexport default Users;","import * as axios from 'axios';\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        'API-KEY': '64f8be29-cf1d-466a-89b4-ad2dfe68ef0e'\n    } \n});\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return  instance.get(`users?page=${currentPage}&count=${pageSize}`)\n        .then(response => {\n            return response.data;\n        });\n    },\n\n    unfollow(id) {\n        return  instance.delete(`follow/${ id }`)\n            .then(response => {\n                return response.data\n        });\n    },\n\n    follow(id) {\n        return  instance.post(`follow/${ id }`)\n            .then(response => {\n                return response.data\n        });\n    },\n\n    getProfile(userId) {\n        return profileAPI.getProfile(userId);\n    }\n}\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/` + userId);\n    },\n\n    getStatus(userId) {\n        return instance.get(`profile/status/` + userId);\n    },\n\n    updateStatus(status) {\n        return instance.put(`profile/status`, { status: status });\n    },\n\n    savePhoto(photoFile) {\n        const formData = new FormData();\n        formData.append(\"image\", photoFile);\n\n        return instance.put(`profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        });\n    },\n    saveProfile(profile) {\n        return instance.put(`profile`, profile );\n    }\n}\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false, captcha = null) {\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha });\n    },\n    logout() {\n        return instance.delete(`auth/login`);\n    }\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`);\n    }\n}\n\n\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return { ...u, ...newObjProps }\n        }\n        return u;\n    })\n}","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from '../utils/object-helpers';\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState = {\n    users: [],\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n\n    switch(action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true} )\n            }\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false} )\n            }\n\n        case SET_USERS: {\n            return { ...state, users: action.users };\n        }\n        \n        case SET_CURRENT_PAGE: {\n            return { ...state, currentPage: action.currentPage };\n        }\n\n        case SET_TOTAL_USERS_COUNT: {\n            return { ...state, totalUsersCount: action.count };\n        }\n\n        case TOGGLE_IS_FETCHING: {\n            return { ...state, isFetching: action.isFetching };\n        }\n\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        }\n\n        default: \n            return state;\n\n    }\n};\n\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\nexport const setUsers = (users) => ({ type: SET_USERS, users });\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\nexport const toggleIsFetching  = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\nexport const toggleFollowingProgress  = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\n\nexport const requestUsers = (page, pageSize) => {\n\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(page));\n\n        let data = await usersAPI.getUsers(page, pageSize);\n            dispatch(toggleIsFetching(false));\n            dispatch(setUsers(data.items));\n            dispatch(setTotalUsersCount(data.totalCount));\n    } \n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId));\n        let response = await apiMethod(userId);\n        if (response.data.resultCode === 0) {\n            dispatch(actionCreator(userId)); \n        }\n        dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\n    }  \n}\n\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n    }  \n} \n\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/preloader.b767aab4.svg\";","import React from 'react';\nimport preloader from './preloader.svg';\n\nconst Preloader = (props) => {\n    return <div>\n        <img src={ preloader } alt='preloader'/>\n    </div>\n}\n\nexport default Preloader;","import { createSelector } from 'reselect';\n\n// export const getUsers = (state) => {\n//     return state.usersPage.users.filter(u => true);\n// }\n\nconst getUsersSelector = (state) => {\n    return state.usersPage.users;\n}\n\nexport const getUsers = createSelector( getUsersSelector, (users) => {\n    return users.filter(u => true);\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Users from './users';\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer';\nimport Preloader from '../common/preloader/preloader';\nimport { compose } from 'redux';\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from '../../redux/users-selectors';\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props;\n        this.props.getUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        const {pageSize} = this.props;\n        this.props.getUsers(pageNumber, pageSize);\n    }\n    \n\n    render() {\n\n        return <>\n            { this.props.isFetching ? <Preloader /> : null }\n            <Users totalUsersCount={ this.props.totalUsersCount} \n                    pageSize={ this.props.pageSize }\n                    currentPage={ this.props.currentPage }\n                    onPageChanged={ this.onPageChanged }\n                    users={ this.props.users }\n                    follow={ this.props.follow }\n                    unfollow={ this.props.unfollow }\n                    followingInProgress={ this.props.followingInProgress }\n            />\n        </>\n    }\n} \n\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {\n        follow,\n        unfollow,\n        setCurrentPage,\n        toggleFollowingProgress,\n        getUsers: requestUsers\n    })\n)(UsersContainer);\n","import { usersAPI, profileAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n    posts: [\n        { id: 1, message: 'Hi, how are you?', likes: 15 },\n        { id: 2, message: 'It\\'s my first post', likes: 20 },\n        { id: 3, message: 'Dada', likes: 21 },\n        { id: 4, message: 'Blabla', likes: 6 }\n      ],\n    profile: null,\n    status: ''\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case ADD_POST: {\n            let newPost = {\n                id: 5,\n                message: action.newPostText,\n                likes: 0\n            };\n            return { \n                ...state,\n                posts: [...state.posts, newPost],\n                newPostText: ''\n            };\n        }\n\n        case SET_USER_PROFILE: {\n            return {\n                ...state, profile: action.profile\n            }\n        }\n\n        case SET_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n\n        case SAVE_PHOTO_SUCCESS: \n            return {\n                ...state,\n                profile: { ...state.profile, photos: action.photos }\n            }\n        \n\n        default: \n            return state;\n    }\n}\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\n\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\n\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\n\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n    let response = await usersAPI.getProfile(userId);\n        dispatch(setUserProfile(response.data));\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId);\n    dispatch(setStatus(response.data));\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n    try {\n        let response = await profileAPI.updateStatus(status);\n\n        if (response.data.resultCode === 0) {\n            dispatch(setStatus(status));\n        }\n    } catch(error) {\n        //\n    }\n}\n\nexport const savePhoto = (file) => async (dispatch) => {\n    let response = await profileAPI.savePhoto(file);\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos));\n    }\n} \n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n    const userId = getState().auth.userId;\n    const response = await profileAPI.saveProfile(profile);\n\n    if (response.data.resultCode === 0) {\n        dispatch(getUserProfile(userId));\n    } else {\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0] }));\n        return Promise.reject(response.data.messages[0]);\n    }\n}\n\nexport default profileReducer;","import Post from './post';\n\nexport default Post;","import React from 'react';\nimport './post.css';\n\nconst Post = (props) => {\n\n    return(\n        <div className='item container'>\n            <div>\n                <div className='row'>\n                    <img src='https://i.pinimg.com/474x/79/6e/c6/796ec6ea849885284691e9656b9cea33.jpg' alt='avatar' className='col-1'></img>\n                    <div className='post-message col-4'>\n                        { props.message }\n                    </div>\n                    <div className='col-7'></div>\n                </div>\n            </div>\n            <div className='post-likes'>\n                <span>likes: </span> { props.likesCount }\n            </div>\n        </div>\n    )\n};\n\nexport default Post;\n    ","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { maxLengthCreator, required } from '../../../utils/validators/validators';\nimport { Textarea } from '../../common/form-controls/forms-control';\nimport './my-posts.css';\nimport Post from './post'; \n\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst AddNewPostForm = (props) => {\n    return (\n        <form onSubmit={ props.handleSubmit }>\n            <div>\n                <Field name='newPostText' component={ Textarea } placeholder='Post message' \n                    validate={ [required, maxLength10] }/>\n            </div>\n            <div className='button'>\n                <button className='btn btn-primary'>Add post</button>\n            </div>\n        </form>\n    )\n}\n\nlet AddNewPostFormRedux = reduxForm({ form: 'ProfileAddNewPostForm' })(AddNewPostForm);\n\nconst MyPosts = React.memo(props => {\n    let postsElements =\n        [...props.posts]\n            .reverse()\n            .map(p => <Post key={p.id} message={p.message} likesCount={p.likes} />);\n\n    // let newPostElement = React.createRef();\n    \n    let onAddPost = (values) => {\n        props.addPost(values.newPostText);\n    }\n\n       return(\n        <div className='myPosts'>\n        <div className='hd-inp'>\n            <h2 className='mp-header'>My Posts</h2>\n            <div className='form-group'>\n                <label className=\"col-form-label col-form-label-lg\" htmlFor=\"inputLarge\">Whrite your post</label>\n                <AddNewPostFormRedux onSubmit={ onAddPost } className='mp-input' id=\"inputLarge\" type=\"text\"/>\n            </div>\n        </div>\n            <div className='posts'>\n                { postsElements }\n            </div>\n        </div>\n    )\n});\n\nexport default MyPosts;\n    ","// import React from 'react';\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\nimport MyPosts from './my-posts';\nimport { connect } from 'react-redux'; \n\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (newPostText) => {\n            dispatch(addPostActionCreator(newPostText));\n        }\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n    ","import React, { useEffect, useState } from 'react';\n\nconst ProfileStatusWithHooks = (props) => {\n    \n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect(() => {\n        setStatus(props.status);\n    }, [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    }\n    \n    return (\n        <div className='row'>\n            { !editMode && \n            <div>\n                <b>Status: </b> <span onDoubleClick={ activateEditMode }>{props.status || \"-------\"}</span>\n            </div>\n            }\n            { editMode && \n            <div>\n                <input value={ status } \n                    onChange={ onStatusChange } \n                    onBlur={ deactivateEditMode } \n                    autoFocus={ true } />\n            </div> \n            }\n        </div>\n    )\n}\n\nexport default ProfileStatusWithHooks;","import React from 'react';\nimport './profile-info.css';\nimport {createField, Input, Textarea} from '../../common/form-controls/forms-control'\nimport {reduxForm} from 'redux-form';\n// import style from '../../common/form-controls/forms-control.module.css';\n\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\n\n    return <form onSubmit={handleSubmit}>\n        <div className='container'>\n            <div className='row'>\n                <div className='col-10'>\n                    <div>\n                        <b>Full name</b>: {createField(\"Full name\", \"fullName\", [], Input)}\n                    </div>\n                    <div>\n                        <b>Looking for a job</b>: { createField(\"\", \"lookingForAJob\", [], Input, {type: \"checkbox\", className: 'lookingForAJob'} )}\n                    </div>\n\n                    <div>\n                        <b>My professional skills</b>:\n                        { createField(\"My professional skills\", \"lookingForAJobDescription\", [], Textarea  )}\n                    </div>\n\n\n                    <div>\n                        <b>About me</b>:\n                        { createField(\"About me\", \"aboutMe\", [], Textarea  )}\n                    </div>\n                    <div>\n                        <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\n                        return <div key={key} className='contact'>\n                        <b>{key}: {createField(key, \"contacts.\" + key, [], Input)}</b>\n                        </div>\n                    })}\n                    </div>\n                </div>\n                <div class-name='col-2'>\n                    <div><button type=\"button\" id=\"btnFetch\" class=\"btn btn-primary mb-2\">Save</button></div>\n                        {error && <div className='formSummaryError'>\n                            {error}\n                        </div>\n                        }\n                </div>\n            </div>\n        </div>\n        \n       \n    </form>\n}\n\nconst ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm)\n\nexport default ProfileDataFormReduxForm;","import React, {useState} from 'react';\nimport './profile-info.css';\nimport Preloader from '../../common/preloader/preloader';\nimport ProfileStatusWithHooks from './profile-status/profile-status-with-hooks';\nimport image from '../../common/profile-photo/profile-photo.jpg';\nimport ProfileDataForm from './profile-data-form';\n\nconst ProfileInfo = ({ profile, status, updateStatus, isOwner, savePhoto, saveProfile }) => {\n\n    let [editMode, setEditMode] = useState(false);\n    \n    if (!profile) {\n        return <Preloader />\n    }\n\n    const onMainPhotoSelected = (e) => {\n        if (e.target.files.length) {\n            savePhoto(e.target.files[0]);\n        }\n    }\n\n    const onSubmit = (formData) => {\n        saveProfile(formData).then(\n            () => {\n                setEditMode(false);\n            }\n        );\n    }\n\n    return(\n        <div className='container'>\n            <div className='row'>\n                <div className='avatar col-4'>\n                    <img src={ profile.photos.large || image } className='jumbotron ' alt='avatar'/>\n                    \n                    <label className='ch-ph-button'>\n                        { isOwner && <input type={ 'file' } onChange={ onMainPhotoSelected } /> }\n                    </label>\n                </div>\n\n                <div className='pforile-data col-8'>\n                    <div className='name-and-status col-8'>\n                        <h1 className='full-name'>{profile.fullName}</h1>\n                        <ProfileStatusWithHooks status={ status } updateStatus={ updateStatus } className='status'/>  \n                    </div>\n                    \n                    { editMode\n                            ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit} />\n                            : <ProfileData goToEditMode={() => {setEditMode(true)} } profile={profile} isOwner={isOwner}/> }\n                </div>\n            </div>       \n        </div>\n    )\n};\n\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\n    return (\n        <div className='container'>\n            <div className='row'>\n                <div className='col-10'> \n                    <table className=\"table table-hover\">\n                        <thead>\n                            <tr>\n                                <th scope=\"row\"><b>Looking for a job</b>:</th>\n                                <td>{ profile.lookingForAJob ? \"yes\" : \"no\" }</td>\n                            </tr>\n                            \n                                { profile.lookingForAJob &&\n                                    <tr>\n                                        <th scope=\"row\"><b>My professional skills</b>:</th>\n                                        <td>{ profile.lookingForAJobDescription }</td>\n                                    </tr>\n                                }   \n                            \n                            <tr>\n                                <th scope=\"row\"><b>About me</b>:</th>\n                                <td>{profile.aboutMe}</td>\n                            </tr>\n                            <tr>\n                                <th scope=\"row\"><b>Contacts</b>:</th>\n                                <td>{Object.keys(profile.contacts).map(key => {\n                                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\n                            })}</td>\n                            </tr>\n\n                        </thead>\n                    </table>\n                    {/* <div>\n                        <b>Full name</b>: {profile.fullName}\n                    </div>\n                    <div>\n                        <b>Looking for a job</b>: {profile.lookingForAJob ? \"yes\" : \"no\"}\n                    </div>\n                    {profile.lookingForAJob &&\n                    <div>\n                        <b>My professional skills</b>: {profile.lookingForAJobDescription}\n                    </div>\n                    }\n\n                    <div>\n                        <b>About me</b>: {profile.aboutMe}\n                    </div>\n                    <div>\n                        <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\n                        return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\n                    })}\n                    </div> */}\n                </div>\n                <div className='col-2'>\n                    {isOwner && <div><button onClick={goToEditMode} className='btn btn-primary'>Edit</button></div>}\n                </div>\n            </div> \n        </div>\n    )\n}\n\n\nconst Contact = ({contactTitle, contactValue}) => {\n    // return <div className=''><b>{contactTitle}</b>: {contactValue}</div>\n    return <a href={contactValue} >{contactTitle} <br/></a>\n}\n\nexport default ProfileInfo;\n","import ProfileInfo from './profile-info';\n\nexport default ProfileInfo;","import React from 'react';\nimport MyPostsContainer from './my-posts/my-posts-container';\nimport ProfileInfo from './profile-info';\n// import s from './profile.module.css';\n\nconst Profile = (props) => {\n\n    return(\n        <div>\n            <ProfileInfo savePhoto={ props.savePhoto } \n                        isOwner={ props.isOwner } \n                        profile={ props.profile } \n                        status={ props.status } \n                        saveProfile={props.saveProfile}\n                        updateStatus={ props.updateStatus }/>\n            <MyPostsContainer />\n      </div>\n    )\n};\n\nexport default Profile;\n    ","import React from 'react';\nimport Profile from './profile';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from '../../redux/profile-reducer';\nimport { compose } from 'redux';\n\n\n\nclass ProfileContainer extends React.Component {\n\n    refreshProfile() {\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n            if (!userId) {\n                this.props.history.push('/login');\n            }\n        }\n        this.props.getUserProfile(userId);\n        this.props.getStatus(userId);\n    }\n    \n    componentDidMount() {\n       this.refreshProfile();\n    }\n\n     componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\n            this.refreshProfile();\n        }\n     }\n\n    render () {\n        // if (!this.props.isAuth) return <Redirect to={'/login'} />;\n        return (\n                <Profile { ...this.props } \n                        isOwner={ !this.props.match.params.userId }\n                        profile={ this.props.profile } \n                        status={ this.props.status } \n                        updateStatus={ this.props.updateStatus }\n                        savePhoto={ this.props.savePhoto }\n                        />\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return ({\n        profile: state.profilePage.profile,\n        status: state.profilePage.status,\n        authorizedUserId: state.auth.userId, \n        isAuth: state.auth.isAuth\n    });\n}\n\n\nexport default compose(\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\n    withRouter\n)(ProfileContainer);","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n// import s from './header.module.css';\n\nconst Header = (props) => {\n    return(\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n        <a className=\"navbar-brand\" href=\"/\">SamuraiJS</a>\n        <div className=\"collapse navbar-collapse\" id=\"navbarColor01\">\n          <ul className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item active\">\n              <NavLink to='profile' className=\"nav-link\">Profile\n                <span className=\"sr-only\">(current)</span>\n              </NavLink>\n            </li>\n            <li className=\"nav-item\">\n              <NavLink to='users' className=\"nav-link\">Users</NavLink>\n            </li>\n            <li className=\"nav-item\">\n            <NavLink to='dialogs' className=\"nav-link\">Messages</NavLink>\n            </li>\n          </ul>\n        </div>\n\n        <header > \n          <div >\n            { props.isAuth \n              ? <div>{props.login} - <button onClick={ props.logout } className=\"btn btn-secondary my-2 my-sm-0\">Log Out</button></div>\n                : <button><NavLink to={ '/login' } className=\"btn btn-secondary my-2 my-sm-0\">Login</NavLink></button>}\n          </div>\n        </header>\n      </nav>\n    )\n};\n\nexport default Header;","import { stopSubmit } from 'redux-form';\nimport { authAPI, securityAPI } from '../api/api';\n\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS';\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null // if null, then captcha is not required\n};\n\nconst authReducer = (state = initialState, action) => {\n\n    switch(action.type) {\n        case SET_USER_DATA:\n        case GET_CAPTCHA_URL_SUCCESS:\n            return {\n                ...state,\n               ...action.payload\n            }\n\n        default: \n            return state;\n\n    }\n}\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ \n    type: SET_USER_DATA, payload: \n        { userId, email, login, isAuth } \n});\n\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n    type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me();\n    if (response.data.resultCode === 0) {\n        let userId = response.data.data.id;\n        let { email, login } = response.data.data;\n        dispatch(setAuthUserData(userId, email, login, true));\n    }\n}\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n    if (response.data.resultCode === 0) {\n        // success, get auth data\n        dispatch(getAuthUserData())\n    } else {\n        if (response.data.resultCode === 10) {\n            dispatch(getCaptchaUrl());\n        }\n\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n        dispatch(stopSubmit(\"login\", {_error: message}));\n    }\n}\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout();\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    }\n}\n\nexport default authReducer;","import React from 'react';\nimport Header from './header';\nimport { connect } from 'react-redux';\nimport { getAuthUserData, logout } from '../../redux/auth-reducer';\n\n\n\nclass HeaderContainer extends React.Component {\n\n    componentDidMount() {\n        this.props.getAuthUserData();\n    }\n    \n    render() {\n        return <Header { ...this.props } />\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n});\n\nexport default connect(mapStateToProps, { getAuthUserData, logout }) (HeaderContainer)","import React from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm } from 'redux-form';\nimport { required } from '../../utils/validators/validators';\nimport { login } from '../../redux/auth-reducer';\nimport { Redirect } from 'react-router-dom';\nimport s from '../common/form-controls/forms-control.module.css';\nimport './login.css';\nimport { createField, Input } from '../common/form-controls/forms-control';\n\n\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\n    return (\n        <div className=\"container\">\n            <div className=\"row justify-content-center align-items-center\">\n                <form onSubmit={ handleSubmit } >\n                    <div className=\"form-group\">\n                        {createField(\"Email\", \"email\", [required], Input)}\n                        {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\n                        <div className=\"row justify-content-center align-items-center\">\n                                {createField(null, \"rememberMe\", [], Input, { id: 'rememberMe', type: \"checkbox\", className:''})}\n                                <label htmlFor=\"rememberMe\" className=\"\">Remember me</label>\n                        </div>\n\n                            {/* <input class=\"form-check-input\" type=\"checkbox\" value=\"\" checked=\"\">\n                            Option one is this and that—be sure to include why it's great</label> */}\n\n                        \n                        { captchaUrl && <img src={captchaUrl} alt=''/>}\n                        { captchaUrl &&  createField(\"Symbols from image\", \"captcha\", [required], Input, {}) }\n\n                        \n                        { error && <div className={ s.formSummaryError }>\n                            {  error }\n                        </div> } \n                        <div>\n                            <button>Login</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={'/profile'} />\n    }\n    \n    return <div className='login-form'>\n        <h1>Login</h1>\n        <LoginReduxForm onSubmit={ onSubmit } captchaUrl={props.captchaUrl}/>\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    \n    isAuth: state.auth.isAuth\n})\n\nexport default connect(mapStateToProps, { login } )(Login);","import {getAuthUserData} from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\n\nlet initialState = {\n    initialized: false,\n    globalError: null\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n\n    //dispatch(somethingelse());\n    //dispatch(somethingelse());\n    Promise.all([promise])\n        .then(() => {\n            dispatch(initializedSuccess());\n        });\n}\n\nexport default appReducer;","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n    return state;\n}\n\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, createStore, compose } from 'redux';\nimport profileReducer from './profile-reducer';\nimport dialogsReducer from './dialogs-reducer';\nimport sidebarReducer from './sidebar-reducer';\nimport UsersReducer from './users-reducer';\nimport authReducer from './auth-reducer';\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from './app-reducer';\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sideBar: sidebarReducer,\n    usersPage: UsersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(thunkMiddleware)\n));\n\nwindow.store = store;\n\nexport default store;\n","import React from \"react\";\nimport Preloader from '../components/common/preloader/preloader';\n\n\nexport const withSuspense = (Component) => {\n    return (props) => {\n        return <React.Suspense fallback={<div>loading...</div>} >\n            <Component {...props} />\n        </React.Suspense>\n    };\n}","import React, { Component } from 'react';\nimport './app.css';\n// import Navbar from '../nav-bar';\nimport {HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport DialogsContainer from '../dialogs/dialogs-container';\nimport UsersContainer from '../users/users-container';\nimport ProfileContainer from '../profile/profile-container';\nimport HeaderContainer from '../header/header-container';\nimport Login from '../login/login';\nimport { connect, Provider } from 'react-redux';\nimport { compose } from 'redux';\nimport { initializeApp} from '../../redux/app-reducer';\nimport Preloader from '../common/preloader/preloader';\nimport store from '../../redux/redux-store';\nimport {withSuspense} from \"../../hoc/with-suspence\";\n\n// const DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n// const ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nclass App extends Component {\n      catchAllUnhandledErrors = (reason, promise) => {\n            alert(\"Some error occured\");\n            //console.error(promiseRejectionEvent);\n        }\n      componentDidMount() {\n            this.props.initializeApp();\n            window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);    \n        }\n        componentWillUnmount() {\n            window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n        }\n\n      render() {\n            if (!this.props.initialized) {\n                  return <Preloader />\n            }\n            return (\n                  <div className='appWrapper container-lg'> \n                    <HeaderContainer />\n                    {/* <Navbar /> */}\n          \n                    <div className='content card mb-3'>\n                        <Switch>\n                              <Route exact path='/'\n                                    render={() => <Redirect to={\"/profile\"}/>}/>\n                              <Route path='/profile/:userId?'\n                                    render={withSuspense(ProfileContainer)}/>\n                              <Route path='/dialogs'\n                                    render={withSuspense(DialogsContainer)}/>\n                              <Route path='/users' \n                                    render={ () => <UsersContainer /> }/>\n                              <Route path='/login' \n                                    render={ () => <Login /> }/>\n                              <Route path='*'\n                                    render={() => <div>404 NOT FOUND</div>}/>\n                        </Switch>\n                    </div>\n                  </div>\n            )\n      }\n \n}\n\nconst mapStateToProps = (state) => ({\n      initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n      withRouter,\n      connect(mapStateToProps, {initializeApp}))(App);\n  \n  const SamuraiJSApp = (props) => {\n      return <HashRouter basename={ process.env.PUBLIC_URL }>\n                  <Provider store={ store }>\n                        <AppContainer/>\n                  </Provider>\n            </HashRouter>\n  }\n\nexport default SamuraiJSApp; ","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"bootswatch/dist/sketchy/bootstrap.min.css\";\nimport SamuraiJSApp from './components/app/app';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/redux-store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\n\n    ReactDOM.render(\n      <BrowserRouter>\n        <Provider store={ store }>\n          <SamuraiJSApp />\n        </Provider>\n      </BrowserRouter>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"forms-control_formControl__1HoJA\",\"error\":\"forms-control_error__1fBYT\",\"formSummaryError\":\"forms-control_formSummaryError__3XRtQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__2B_-5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"dialog-item_dialog__2_Pyc\",\"nameLink\":\"dialog-item_nameLink__3aNSg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"paginator_paginator__19aej\",\"pageNumber\":\"paginator_pageNumber__1InlL\",\"selectedPage\":\"paginator_selectedPage__2HpBs\"};"],"sourceRoot":""}