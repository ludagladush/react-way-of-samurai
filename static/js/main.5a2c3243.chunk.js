(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[0],{122:function(e,t,a){},126:function(e,t,a){e.exports={message:"message_message__d8OzE"}},129:function(e,t,a){e.exports={userPhoto:"profile-photo_userPhoto__3jE6C"}},162:function(e,t,a){},164:function(e,t,a){},266:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),A=a.n(n),r=a(61),o=a.n(r),s=(a(162),a(163),a(23)),c=a(24),l=a(26),i=a(25),u=(a(164),a(10)),m=a(12),P=a(30),f=a(5),p="SEND_MESSAGE",d={dialogs:[{id:1,name:"Luda"},{id:2,name:"Sasha"},{id:3,name:"Vika"},{id:4,name:"Nika"}],messages:[{id:1,text:"Hi"},{id:2,text:"How are you?"},{id:3,text:"What is your name?"},{id:4,text:"What is your favorite color? "}]},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var a=t.newMessageBody;return Object(f.a)(Object(f.a)({},e),{},{messages:[].concat(Object(P.a)(e.messages),[{id:6,message:a}])});default:return e}},h=a(66),E=a.n(h),g=a(67),b=a.n(g),v=function(e){var t="/dialogs/"+e.id;return A.a.createElement("div",{className:b.a.dialog+" "+b.a.active},A.a.createElement(m.b,{to:t,className:b.a.nameLink},e.name))},y=a(126),j=a.n(y),w=function(e){return A.a.createElement("div",{className:j.a.message},e.message," ",e.oldMessages)},O=a(123),N=a(124),k=function(e){if(!e)return"Field is required"},C=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},M=a(52),S=a(49),x=a.n(S),I=function(e){e.input;var t=e.meta,a=t.touched,n=t.error,r=e.children,o=a&&n;return A.a.createElement("div",{className:x.a.formControl+" "+(o?x.a.error:"")},A.a.createElement("div",null,r),o&&A.a.createElement("span",null,n))},F=function(e){var t=e.input,a=(e.meta,e.child,Object(M.a)(e,["input","meta","child"]));return A.a.createElement(I,e,A.a.createElement("textarea",Object.assign({},t,a)))},U=function(e){var t=e.input,a=(e.meta,e.child,Object(M.a)(e,["input","meta","child"]));return A.a.createElement(I,e,A.a.createElement("input",Object.assign({},t,a)))},V=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return A.a.createElement("div",null,A.a.createElement(O.a,Object.assign({placeholder:e,name:t,validate:a,component:n},r))," ",o)},Q=C(50),K=Object(N.a)({form:"dialog-add-message-form"})((function(e){return A.a.createElement("form",{onSubmit:e.handleSubmit},A.a.createElement("div",null,A.a.createElement(O.a,{component:F,validate:[k,Q],placeholder:"Enter your message",name:"newMessageBody",id:"newMessageBody"})),A.a.createElement("div",null,A.a.createElement("button",null,"Send")))})),L=function(e){var t=e.dialogsPage,a=t.dialogs.map((function(e){return A.a.createElement(v,{name:e.name,id:e.id,key:e.id})})),n=t.messages.map((function(e){return A.a.createElement(w,{message:e.message,oldMessages:e.text,key:e.id})}));return e.isAuth?A.a.createElement("div",{className:E.a.dialogs},A.a.createElement("div",{className:E.a.dialogsItems},a),A.a.createElement("div",{className:E.a.messages},n,A.a.createElement(K,{onSubmit:function(t){e.sendMessage(t.newMessageBody),document.getElementById("newMessageBody").value=""}}))):A.a.createElement(u.a,{to:"/login"})},T=a(9),B=function(e){return{isAuth:e.auth.isAuth}},R=a(6),H=Object(R.d)(Object(T.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:p,newMessageBody:e}}(t))}}})),(function(e){var t=function(t){Object(l.a)(n,t);var a=Object(i.a)(n);function n(){return Object(s.a)(this,n),a.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return console.log(this.props),this.props.isAuth?A.a.createElement(e,this.props):A.a.createElement(u.a,{to:"/login"})}}]),n}(A.a.Component);return Object(T.b)(B)(t)}))(L),Y=a(64),D=a(35),G=a(69),W=a.n(G),Z=a(91),q=a.n(Z),J=function(e){for(var t=e.totalItemsCount,a=e.pageSize,r=e.currentPage,o=e.onPageChanged,s=e.portionSize,c=void 0===s?10:s,l=Math.ceil(t/a),i=[],u=1;u<=l;u++)i.push(u);var m=Math.ceil(l/c),P=Object(n.useState)(1),f=Object(D.a)(P,2),p=f[0],d=f[1],z=(p-1)*c+1,h=p*c;return A.a.createElement("div",{className:q()(W.a.paginator)},p>1&&A.a.createElement("button",{onClick:function(){d(p-1)}},"PREV"),i.filter((function(e){return e>=z&&e<=h})).map((function(e){return A.a.createElement("span",{className:q()(Object(Y.a)({},W.a.selectedPage,r===e),W.a.pageNumber),key:e,onClick:function(t){o(e)}},e)})),m>p&&A.a.createElement("button",{onClick:function(){d(p+1)}},"NEXT"))},X="data:image/jpeg;base64,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/wD/AHzzzzzzzzzzzzzzzzzz7/8A/wD/AP8A/wD/APjTzzzzzzzzzzzzzzzzzzzzzzzx/wA88888888sKyyyyyyym8888888888888888v8APPPPPPPPPPGvfffffffPPPPPPPPPPPPPPPKE/PPPPPPPPPKH/PPPPPPPPPPPPPPPPPPPPPPHuMt//wD/AP8A/wD+/Xzzzzzzzzzzzzzzzzzzzyg4444wkMMMMcogP3zzzzzzzzzzzzzzzzzzzzwwwwwmnboANPEoP3zzzzzzzzzzzzzzzzzzzzzzzzy4OHKNgo8sNNTzzjzzzzzzzzzzzzzzzzzzzzyAAPFeioEMOuyMObzzzzzzzzzzzzzzzzzzzzwjDPPMPnPfurzzzzzzzzzzzzzzzzzzzzzzzzzzzzdozCjyi3zzzzzzzzzzzzzzzzzzzzj33333TyyoIVzyj3zzzzzzzzzzzzzzzzzzzz04445rTzzzzzzyj3zzzzzzzzzzzzzzzzzzzzzzzzyyjzzzzzzzh3zzzzzzzzzzzzzzzzzy0MMMMMNZVrzzzzz/AKDWULDDD888888888888ssMMMMMM89IW5w7nMMM8MMMM888888888888888888gAAAACyCAAAV88888888888888888888888ssMMMMMMMMMMNc88888888888888888888888888888888099958888888888888888888888888888888tMMMN88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888/8QAKBEAAwAABQMFAAIDAAAAAAAAAAERECExQGEgUfAwQVChsXDBcYGR/9oACAEDAQE/EP5mjIyMnwCc6A3fnE0ioqKioqKioqKhiKioqKioqKioqHs1NWnih4oeKHih4oeKHih4oeKGqBqbn7XprMmffcgAGb/t9S1NVoVlZWVlZWV7Fy19ha9QWJd3uG1c7RwSZmkcZxnGcZxnGcZxixXL/d2DQ6k8TT0w+y/3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",_=a(129),$=a.n(_),ee=function(e){var t=e.photo;return A.a.createElement("img",{src:null!=t?t:X,alt:"avatar",className:$.a.userPhoto})},te=(a(266),function(e){var t=e.user,a=e.followingInProgress,n=e.unfollow,r=e.follow;return A.a.createElement("div",{className:"users"},A.a.createElement("div",{className:"container"},A.a.createElement("div",{className:"row"},A.a.createElement("div",{className:"col-4"}," "),A.a.createElement("div",{className:"col-2"},A.a.createElement(m.b,{to:"/profile/"+t.id},A.a.createElement(ee,{photo:t.photos.small}))),A.a.createElement("div",{className:"col-3"},A.a.createElement("span",null,A.a.createElement("h5",null,t.name),A.a.createElement("div",null,t.status)),A.a.createElement("span",null,A.a.createElement("div",{className:""},t.followed?A.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){n(t.id)}},"Unfollow"):A.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Follow")))),A.a.createElement("div",{className:"col-4"}))))}),ae=function(e){for(var t=e.currentPage,a=e.totalUsersCount,n=e.pageSize,r=e.onPageChanged,o=e.users,s=Object(M.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]),c=Math.ceil(s.totalUsersCount/s.pageSize),l=[],i=1;i<=c;i++)l.push(i);return A.a.createElement("div",null,A.a.createElement(J,{currentPage:t,onPageChanged:r,totalItemsCount:a,pageSize:n}),A.a.createElement("div",null,o.map((function(e){return A.a.createElement(te,{user:e,followingInProgress:s.followingInProgress,key:e.id,unfollow:s.unfollow,follow:s.follow})}))))},ne=a(8),Ae=a.n(ne),re=a(14),oe=a(130).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"64f8be29-cf1d-466a-89b4-ad2dfe68ef0e"}}),se={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return oe.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return oe.delete("follow/".concat(e)).then((function(e){return e.data}))},follow:function(e){return oe.post("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return ce.getProfile(e)}},ce={getProfile:function(e){return oe.get("profile/"+e)},getStatus:function(e){return oe.get("profile/status/"+e)},updateStatus:function(e){return oe.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),oe.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return oe.put("profile",e)}},le=function(){return oe.get("auth/me")},ie=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return oe.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},ue=function(){return oe.delete("auth/login")},me=function(){return oe.get("security/get-captcha-url")},Pe=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(f.a)(Object(f.a)({},e),n):e}))},fe="FOLLOW",pe="UNFOLLOW",de="SET_USERS",ze="SET_CURRENT_PAGE",he="SET_TOTAL_USERS_COUNT",Ee="TOGGLE_IS_FETCHING",ge="TOGGLE_IS_FOLLOWING_PROGRESS",be={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},ve=function(e){return{type:fe,userId:e}},ye=function(e){return{type:pe,userId:e}},je=function(e){return{type:ze,currentPage:e}},we=function(e){return{type:Ee,isFetching:e}},Oe=function(e,t){return{type:ge,isFetching:e,userId:t}},Ne=function(){var e=Object(re.a)(Ae.a.mark((function e(t,a,n,A){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Oe(!0,a)),e.next=3,n(a);case 3:0===e.sent.resultCode&&t(A(a)),t(Oe(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,A){return e.apply(this,arguments)}}(),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(f.a)(Object(f.a)({},e),{},{users:Pe(e.users,t.userId,"id",{followed:!0})});case pe:return Object(f.a)(Object(f.a)({},e),{},{users:Pe(e.users,t.userId,"id",{followed:!1})});case de:return Object(f.a)(Object(f.a)({},e),{},{users:t.users});case ze:return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.currentPage});case he:return Object(f.a)(Object(f.a)({},e),{},{totalUsersCount:t.count});case Ee:return Object(f.a)(Object(f.a)({},e),{},{isFetching:t.isFetching});case ge:return Object(f.a)(Object(f.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(P.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Ce=a.p+"static/media/preloader.b767aab4.svg",Me=function(e){return A.a.createElement("div",null,A.a.createElement("img",{src:Ce,alt:"preloader"}))},Se=a(131),xe=Object(Se.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Ie=function(e){return e.usersPage.pageSize},Fe=function(e){return e.usersPage.totalUsersCount},Ue=function(e){return e.usersPage.currentPage},Ve=function(e){return e.usersPage.isFetching},Qe=function(e){return e.usersPage.followingInProgress},Ke=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,A=new Array(n),r=0;r<n;r++)A[r]=arguments[r];return(e=t.call.apply(t,[this].concat(A))).onPageChanged=function(t){var a=e.props.pageSize;e.props.getUsers(t,a)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,a=e.pageSize;this.props.getUsers(t,a)}},{key:"render",value:function(){return A.a.createElement(A.a.Fragment,null,this.props.isFetching?A.a.createElement(Me,null):null,A.a.createElement(ae,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),a}(A.a.Component),Le=Object(R.d)(Object(T.b)((function(e){return{users:xe(e),pageSize:Ie(e),totalUsersCount:Fe(e),currentPage:Ue(e),isFetching:Ve(e),followingInProgress:Qe(e)}}),{follow:function(e){return function(){var t=Object(re.a)(Ae.a.mark((function t(a){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ne(a,e,se.follow.bind(se),ve);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(re.a)(Ae.a.mark((function t(a){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ne(a,e,se.unfollow.bind(se),ye);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:je,toggleFollowingProgress:Oe,getUsers:function(e,t){return function(){var a=Object(re.a)(Ae.a.mark((function a(n){var A;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(we(!0)),n(je(e)),a.next=4,se.getUsers(e,t);case 4:A=a.sent,n(we(!1)),n((o=A.items,{type:de,users:o})),n((r=A.totalCount,{type:he,count:r}));case 8:case"end":return a.stop()}var r,o}),a)})));return function(e){return a.apply(this,arguments)}}()}}))(Ke),Te=a(22),Be="ADD-POST",Re="SET_USER_PROFILE",He="SET_STATUS",Ye="SAVE_PHOTO_SUCCESS",De={posts:[{id:1,message:"Hi, how are you?",likes:15},{id:2,message:"It's my first post",likes:20},{id:3,message:"Dada",likes:21},{id:4,message:"Blabla",likes:6}],profile:null,status:""},Ge=function(e){return{type:He,status:e}},We=function(e){return function(){var t=Object(re.a)(Ae.a.mark((function t(a){var n;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se.getProfile(e);case 2:n=t.sent,a((A=n.data,{type:Re,profile:A}));case 4:case"end":return t.stop()}var A}),t)})));return function(e){return t.apply(this,arguments)}}()},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:var a={id:5,message:t.newPostText,likes:0};return Object(f.a)(Object(f.a)({},e),{},{posts:[].concat(Object(P.a)(e.posts),[a]),newPostText:""});case Re:return Object(f.a)(Object(f.a)({},e),{},{profile:t.profile});case He:return Object(f.a)(Object(f.a)({},e),{},{status:t.status});case Ye:return Object(f.a)(Object(f.a)({},e),{},{profile:Object(f.a)(Object(f.a)({},e.profile),{},{photos:t.photos})});default:return e}},qe=(a(286),a(287),function(e){return A.a.createElement("div",{className:"item container"},A.a.createElement("div",null,A.a.createElement("div",{className:"row"},A.a.createElement("img",{src:"https://i.pinimg.com/474x/79/6e/c6/796ec6ea849885284691e9656b9cea33.jpg",alt:"avatar",className:"col-1"}),A.a.createElement("div",{className:"post-message col-4"},e.message),A.a.createElement("div",{className:"col-7"}))),A.a.createElement("div",{className:"post-likes"},A.a.createElement("span",null,"likes: ")," ",e.likesCount))}),Je=C(10),Xe=Object(N.a)({form:"ProfileAddNewPostForm"})((function(e){return A.a.createElement("form",{onSubmit:e.handleSubmit},A.a.createElement("div",null,A.a.createElement(O.a,{name:"newPostText",component:F,placeholder:"Post message",validate:[k,Je],id:"newPostText"})),A.a.createElement("div",{className:"button"},A.a.createElement("button",{className:"btn btn-primary"},"Add post")))})),_e=A.a.memo((function(e){var t=Object(P.a)(e.posts).reverse().map((function(e){return A.a.createElement(qe,{key:e.id,message:e.message,likesCount:e.likes})}));return A.a.createElement("div",{className:"myPosts"},A.a.createElement("div",{className:"hd-inp"},A.a.createElement("h2",{className:"mp-header"},"My Posts"),A.a.createElement("div",{className:"form-group"},A.a.createElement("label",{className:"col-form-label col-form-label-lg",htmlFor:"inputLarge"},"Whrite your post"),A.a.createElement(Xe,{onSubmit:function(t){e.addPost(t.newPostText),document.getElementById("newPostText").value=""},className:"mp-input",id:"inputLarge",type:"text"}))),A.a.createElement("div",{className:"posts"},t))})),$e=Object(T.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:Be,newPostText:e}}(t))}}}))(_e),et=(a(122),function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(e.status),c=Object(D.a)(s,2),l=c[0],i=c[1];Object(n.useEffect)((function(){i(e.status)}),[e.status]);return A.a.createElement("div",{className:"row"},!r&&A.a.createElement("div",null,A.a.createElement("b",null,"Status: ")," ",A.a.createElement("span",{onDoubleClick:function(){o(!0)}},e.status||"-------")),r&&A.a.createElement("div",null,A.a.createElement("input",{value:l,onChange:function(e){i(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(l)},autoFocus:!0})))}),tt=Object(N.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return A.a.createElement("form",{onSubmit:t},A.a.createElement("div",{className:"container"},A.a.createElement("div",{className:"row"},A.a.createElement("div",{className:"col-10"},A.a.createElement("div",null,A.a.createElement("b",null,"Full name"),": ",V("Full name","fullName",[],U)),A.a.createElement("div",null,A.a.createElement("b",null,"Looking for a job"),": ",V("","lookingForAJob",[],U,{type:"checkbox",className:"lookingForAJob"})),A.a.createElement("div",null,A.a.createElement("b",null,"My professional skills"),":",V("My professional skills","lookingForAJobDescription",[],F)),A.a.createElement("div",null,A.a.createElement("b",null,"About me"),":",V("About me","aboutMe",[],F)),A.a.createElement("div",null,A.a.createElement("b",null,"Contacts"),": ",Object.keys(a.contacts).map((function(e){return A.a.createElement("div",{key:e,className:"contact"},A.a.createElement("b",null,e,": ",V(e,"contacts."+e,[],U)))})))),A.a.createElement("div",{"class-name":"col-2"},A.a.createElement("div",null,A.a.createElement("button",{type:"button",id:"btnFetch",class:"btn btn-primary mb-2"},"Save")),n&&A.a.createElement("div",{className:"formSummaryError"},n)))))})),at=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return A.a.createElement("div",{className:"container"},A.a.createElement("div",{className:"row"},A.a.createElement("div",{className:"col-10"},A.a.createElement("table",{className:"table"},A.a.createElement("thead",null,A.a.createElement("tr",null,A.a.createElement("th",{scope:"col"},"Looking for a job:"),A.a.createElement("td",null,t.lookingForAJob?"yes":"no")),t.lookingForAJob&&A.a.createElement("tr",null,A.a.createElement("th",{scope:"col"},"My professional skills:"),A.a.createElement("td",null,t.lookingForAJobDescription)),A.a.createElement("tr",null,A.a.createElement("th",{scope:"col"},"About me:"),A.a.createElement("td",null,t.aboutMe)),A.a.createElement("tr",null,A.a.createElement("th",{scope:"col",className:"contacts"},"Contacts:"),A.a.createElement("td",null,Object.keys(t.contacts).map((function(e){return A.a.createElement(nt,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))))),A.a.createElement("div",{className:"col-2"},a&&A.a.createElement("div",null,A.a.createElement("button",{onClick:n,className:"btn btn-primary"},"Edit")))))},nt=function(e){var t=e.contactTitle,a=e.contactValue;return A.a.createElement("a",{href:a},t," ",A.a.createElement("br",null))},At=function(e){var t=e.profile,a=e.status,r=e.updateStatus,o=e.isOwner,s=e.savePhoto,c=e.saveProfile,l=Object(n.useState)(!1),i=Object(D.a)(l,2),u=i[0],m=i[1];if(!t)return A.a.createElement(Me,null);return A.a.createElement("div",{className:"container"},A.a.createElement("div",{className:"row"},A.a.createElement("div",{className:"avatar col-4"},A.a.createElement("img",{src:t.photos.large||X,className:"jumbotron ",alt:"avatar"}),A.a.createElement("label",{className:"ch-ph-button"},o&&A.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}}))),A.a.createElement("div",{className:"pforile-data col-8"},A.a.createElement("div",{className:"name-and-status col-8"},A.a.createElement("h1",{className:"full-name"},t.fullName),A.a.createElement(et,{status:a,updateStatus:r,className:"status"})),u?A.a.createElement(tt,{initialValues:t,profile:t,onSubmit:function(e){c(e).then((function(){m(!1)}))}}):A.a.createElement(at,{goToEditMode:function(){m(!0)},profile:t,isOwner:o}))))},rt=function(e){return A.a.createElement("div",null,A.a.createElement(At,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),A.a.createElement($e,null))},ot=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return A.a.createElement(rt,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),a}(A.a.Component),st=Object(R.d)(Object(T.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:We,getStatus:function(e){return function(){var t=Object(re.a)(Ae.a.mark((function t(a){var n;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.getStatus(e);case 2:n=t.sent,a(Ge(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(re.a)(Ae.a.mark((function t(a){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.updateStatus(e);case 3:0===t.sent.data.resultCode&&a(Ge(e)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(re.a)(Ae.a.mark((function t(a){var n;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.savePhoto(e);case 2:0===(n=t.sent).data.resultCode&&a((A=n.data.data.photos,{type:Ye,photos:A}));case 4:case"end":return t.stop()}var A}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(re.a)(Ae.a.mark((function t(a,n){var A,r;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A=n().auth.userId,t.next=3,ce.saveProfile(e);case 3:if(0!==(r=t.sent).data.resultCode){t.next=8;break}a(We(A)),t.next=10;break;case 8:return a(Object(Te.a)("edit-profile",{_error:r.data.messages[0]})),t.abrupt("return",Promise.reject(r.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),u.g)(ot),ct=function(e){return A.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},A.a.createElement("a",{className:"navbar-brand"},"SamuraiJS"),A.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor01"},A.a.createElement("ul",{className:"navbar-nav mr-auto"},A.a.createElement("li",{className:"nav-item active"},A.a.createElement(m.b,{to:"/profile",className:"nav-link"},"Profile",A.a.createElement("span",{className:"sr-only"},"(current)"))),A.a.createElement("li",{className:"nav-item"},A.a.createElement(m.b,{to:"/users",className:"nav-link"},"Users")),A.a.createElement("li",{className:"nav-item"},A.a.createElement(m.b,{to:"/dialogs",className:"nav-link"},"Messages")))),A.a.createElement("header",null,A.a.createElement("div",null,e.isAuth?A.a.createElement("div",null,e.login," - ",A.a.createElement("button",{onClick:e.logout,className:"btn btn-secondary my-2 my-sm-0"},"Log Out")):A.a.createElement("button",null,A.a.createElement(m.b,{to:"/login",className:"btn btn-secondary my-2 my-sm-0"},"Login")))))},lt="samurai-network/auth/SET_USER_DATA",it="samurai-network/auth/GET_CAPTCHA_URL_SUCCESS",ut={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},mt=function(e,t,a,n){return{type:lt,payload:{userId:e,email:t,login:a,isAuth:n}}},Pt=function(e){return{type:it,payload:{captchaUrl:e}}},ft=function(){return function(){var e=Object(re.a)(Ae.a.mark((function e(t){var a,n,A,r,o;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data.id,A=a.data.data,r=A.email,o=A.login,t(mt(n,r,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pt=function(){return function(){var e=Object(re.a)(Ae.a.mark((function e(t){var a,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:a=e.sent,n=a.data.url,t(Pt(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt:case it:return Object(f.a)(Object(f.a)({},e),t.payload);default:return e}},zt=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return A.a.createElement(ct,this.props)}}]),a}(A.a.Component),ht=Object(T.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getAuthUserData:ft,logout:function(){return function(){var e=Object(re.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:0===e.sent.data.resultCode&&t(mt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(zt),Et=(a(288),Object(N.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.error,n=e.captchaUrl;return A.a.createElement("div",{className:"container"},A.a.createElement("div",{className:"row justify-content-center align-items-center"},A.a.createElement("form",{onSubmit:t},A.a.createElement("div",{className:"form-group"},V("Email","email",[k],U),V("Password","password",[k],U,{type:"password"}),A.a.createElement("div",{className:"row justify-content-center align-items-center"},V(null,"rememberMe",[],U,{id:"rememberMe",type:"checkbox",className:""}),A.a.createElement("label",{htmlFor:"rememberMe",className:""},"Remember me")),n&&A.a.createElement("img",{src:n,alt:""}),n&&V("Symbols from image","captcha",[k],U,{}),a&&A.a.createElement("div",{className:x.a.formSummaryError},a),A.a.createElement("div",null,A.a.createElement("button",null,"Login"))))))}))),gt=Object(T.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,a,n){return function(){var A=Object(re.a)(Ae.a.mark((function A(r){var o,s;return Ae.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,ie(e,t,a,n);case 2:0===(o=A.sent).data.resultCode?r(ft()):(10===o.data.resultCode&&r(pt()),s=o.data.messages.length>0?o.data.messages[0]:"Some error",r(Object(Te.a)("login",{_error:s})));case 4:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()}})((function(e){return e.isAuth?A.a.createElement(u.a,{to:"/profile"}):A.a.createElement("div",{className:"login-form"},A.a.createElement("h1",null,"Login"),A.a.createElement(Et,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))})),bt="INITIALIZED_SUCCESS",vt={initialized:!1,globalError:null},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return Object(f.a)(Object(f.a)({},e),{},{initialized:!0});default:return e}},jt={},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return e},Ot=a(132),Nt=a(125),kt=Object(R.c)({profilePage:Ze,dialogsPage:z,sideBar:wt,usersPage:ke,auth:dt,form:Nt.a,app:yt}),Ct=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d,Mt=Object(R.e)(kt,Ct(Object(R.a)(Ot.a)));window.store=Mt;var St=Mt,xt=function(e){return function(t){return A.a.createElement(A.a.Suspense,{fallback:A.a.createElement("div",null,"loading...")},A.a.createElement(e,t))}},It=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,A=new Array(n),r=0;r<n;r++)A[r]=arguments[r];return(e=t.call.apply(t,[this].concat(A))).catchAllUnhandledErrors=function(e,t){alert("Some error occured")},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?A.a.createElement("div",{className:"appWrapper container-lg"},A.a.createElement(ht,null),A.a.createElement("div",{className:"content card mb-3"},A.a.createElement(u.d,null,A.a.createElement(u.b,{exact:!0,path:"/",render:function(){return A.a.createElement(u.a,{to:"/profile"})}}),A.a.createElement(u.b,{path:"/profile/:userId?",render:xt(st)}),A.a.createElement(u.b,{path:"/dialogs",render:xt(H)}),A.a.createElement(u.b,{path:"/users",render:function(){return A.a.createElement(Le,null)}}),A.a.createElement(u.b,{path:"/login",render:function(){return A.a.createElement(gt,null)}}),A.a.createElement(u.b,{path:"*",render:function(){return A.a.createElement("div",null,"404 NOT FOUND")}})))):A.a.createElement(Me,null)}}]),a}(n.Component),Ft=Object(R.d)(u.g,Object(T.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(ft());Promise.all([t]).then((function(){e({type:bt})}))}}}))(It),Ut=function(e){return A.a.createElement(m.a,{basename:"react-way-of-samurai"},A.a.createElement(T.a,{store:St},A.a.createElement(Ft,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(A.a.createElement(m.a,null,A.a.createElement(T.a,{store:St},A.a.createElement(Ut,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,a){e.exports={formControl:"forms-control_formControl__1HoJA",error:"forms-control_error__1fBYT",formSummaryError:"forms-control_formSummaryError__3XRtQ"}},66:function(e,t,a){e.exports={dialogs:"dialogs_dialogs__2B_-5"}},67:function(e,t,a){e.exports={dialog:"dialog-item_dialog__2_Pyc",nameLink:"dialog-item_nameLink__3aNSg"}},69:function(e,t,a){e.exports={paginator:"paginator_paginator__19aej",pageNumber:"paginator_pageNumber__1InlL",selectedPage:"paginator_selectedPage__2HpBs"}}},[[289,1,2]]]);
//# sourceMappingURL=main.5a2c3243.chunk.js.map