{"version":3,"sources":["components/dialogs/message/message.module.css","components/common/profile-photo/profile-photo.module.css","redux/dialogs-reducer.js","components/dialogs/dialog-item/index.js","components/dialogs/dialog-item/dialog-item.js","components/dialogs/message/index.js","components/dialogs/message/message.js","utils/validators/validators.js","components/common/form-controls/forms-control.js","components/dialogs/add-message-form.js","components/dialogs/dialogs.js","hoc/auth-redirect.js","components/dialogs/dialogs-container.js","components/common/paginator/paginator.js","components/common/profile-photo/profile-photo.jpg","components/common/profile-photo/profile-photo.js","components/users/user.js","components/users/users.js","api/api.js","utils/object-helpers.js","redux/users-reducer.js","components/common/preloader/preloader.svg","components/common/preloader/preloader.js","redux/users-selectors.js","components/users/users-container.js","redux/profile-reducer.js","components/profile/my-posts/post/index.js","components/profile/my-posts/post/post.js","components/profile/my-posts/my-posts.js","components/profile/my-posts/my-posts-container.js","components/profile/profile-info/profile-status/profile-status-with-hooks.js","components/profile/profile-info/profile-data-form.js","components/profile/profile-info/profile-info.js","components/profile/profile-info/index.js","components/profile/profile.js","components/profile/profile-container.js","components/header/header.js","redux/auth-reducer.js","components/header/header-container.js","components/login/login.js","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/with-suspence.js","components/app/app.js","serviceWorker.js","index.js","components/common/form-controls/forms-control.module.css","components/dialogs/dialogs.module.css","components/dialogs/dialog-item/dialog-item.module.css","components/common/paginator/paginator.module.css"],"names":["module","exports","SEND_MESSAGE","initialState","dialogs","id","name","messages","text","dialogsReducer","state","action","type","body","newMessageBody","message","DialogItem","props","path","className","s","dialog","active","to","nameLink","Message","oldMessages","required","value","maxLengthCreator","maxLength","length","FormControl","input","meta","touched","error","children","hasError","styles","formControl","Textarea","restProps","child","Input","createField","placeholder","validators","component","Field","validate","maxLength50","reduxForm","form","onSubmit","handleSubmit","Dialogs","dialogsPage","dialogsElements","map","d","key","messagesElements","m","isAuth","dialogsItems","values","sendMessage","document","getElementById","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","console","log","this","React","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginator","onClick","filter","p","selectedPage","pageNumber","e","ProfilePhoto","photo","src","image","alt","userPhoto","User","user","followingInProgress","unfollow","follow","photos","small","status","followed","disabled","some","Users","totalUsersCount","users","u","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","get","then","response","data","delete","post","getProfile","userId","profileAPI","getStatus","updateStatus","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","email","password","rememberMe","captcha","securityAPI","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","isFetching","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","a","resultCode","usersReducer","count","Preloader","preloader","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","bind","page","totalCount","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likes","setStatus","getUserProfile","profileReducer","newPost","newPostText","postId","Post","likesCount","maxLength10","AddNewPostFormRedux","MyPosts","memo","postsElements","reverse","htmlFor","addPost","MyPostsContainer","profilePage","addPostActionCreator","ProfileStatusWithHooks","editMode","setEditMode","useEffect","onDoubleClick","onChange","currentTarget","onBlur","autoFocus","ProfileDataFormReduxForm","Object","keys","contacts","class-name","class","ProfileData","isOwner","goToEditMode","scope","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","href","ProfileInfo","large","target","files","fullName","initialValues","Profile","ProfileContainer","match","params","authorizedUserId","history","refreshProfile","prevProps","prevState","snapshot","file","getState","stopSubmit","_error","Promise","reject","withRouter","Header","login","logout","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","getCaptchaUrl","url","authReducer","HeaderContainer","LoginReduxForm","formSummaryError","INITIALIZED_SUCCESS","initialized","globalError","appReducer","sidebarReducer","reducers","combineReducers","sideBar","UsersReducer","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","App","catchAllUnhandledErrors","reason","promise","alert","initializeApp","addEventListener","removeEventListener","exact","render","DialogsContainer","AppContainer","all","SamuraiJSApp","basename","Boolean","location","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.261fd037.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"message_message__d8OzE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"profile-photo_userPhoto__3jE6C\"};","const SEND_MESSAGE = 'SEND_MESSAGE';\n\nlet initialState = {\n    dialogs: [\n        { id: 1, name: 'Luda' },\n        { id: 2, name: 'Sasha' },\n        { id: 3, name: 'Vika' },\n        { id: 4, name: 'Nika' }\n      ],\n\n      messages: [\n        { id: 1, text: 'Hi' },\n        { id: 2, text: 'How are you?' },\n        { id: 3, text: 'What is your name?' },\n        { id: 4, text: 'What is your favorite color? ' }\n      ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n\n    switch(action.type) {\n        case SEND_MESSAGE:\n            let body = action.newMessageBody;\n            return { \n                ...state, \n                messages: [...state.messages, { id: 6, message: body }], \n            }; \n        default:\n            return state;\n    }\n}\n\nexport let sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\n    \n\nexport default dialogsReducer;","import DialogItem from './dialog-item';\n\nexport default DialogItem;","import React from 'react';\nimport s from './dialog-item.module.css';\nimport { NavLink } from 'react-router-dom';\n\n\nconst DialogItem = (props) => {\n    \n    let path = '/dialogs/' + props.id;\n    return(\n        <div className={ s.dialog + ' ' + s.active }>\n            <NavLink to={ path } className={ s.nameLink }>{ props.name }</NavLink>\n        </div>\n    )\n};\n\nexport default DialogItem;","import Message from './message';\n\nexport default Message;","import React from 'react';\nimport s from './message.module.css';\n\nconst Message = (props) => {\n    return(\n        <div className={ s.message }>{ props.message} { props.oldMessages }</div>\n    )\n};\n\nexport default Message;","\nexport const required = value => {\n     if (value) return undefined;\n     return 'Field is required';\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\n    return undefined;\n}","import React from \"react\";\nimport styles from \"./forms-control.module.css\";\nimport { Field } from \"redux-form\";\n\nconst FormControl = ({ input, meta: { touched, error}, children }) => {\n    \n    const hasError = touched && error;\n    return (\n        <div className={ styles.formControl + \" \" + (hasError ? styles.error : \"\") }>\n            <div>\n                { children }\n            </div>\n            { hasError && <span>{ error }</span> }\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const { input, meta, child, ...restProps } = props;\n    return <FormControl { ...props }><textarea { ...input } { ...restProps } /></FormControl>\n}\n\nexport const Input = (props) => {\n    const { input, meta, child, ...restProps } = props;\n    return <FormControl { ...props }><input { ...input } { ...restProps } /></FormControl>\n}\n\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => (\n    <div>\n        <Field placeholder={placeholder} name={name}\n               validate={validators}\n               component={component}\n               {...props}\n        /> {text}\n    </div>\n)\n\n\n","import React from 'react';\nimport { Field, reduxForm } from \"redux-form\";\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\nimport { Textarea } from '../common/form-controls/forms-control';\n\nconst maxLength50 = maxLengthCreator(50);\n\nconst AddMessageForm = (props) => {\n    return (\n        <form onSubmit={ props.handleSubmit }>\n            <div>\n                <Field component={ Textarea } \n                        validate={ [required, maxLength50] } \n                        placeholder='Enter your message' \n                        name='newMessageBody'\n                        id='newMessageBody'\n                />\n            </div>\n            <div>\n                <button>Send</button>\n            </div>\n        </form>\n    )\n}\n\nexport default reduxForm({ form: 'dialog-add-message-form' })(AddMessageForm);","import React from 'react';\nimport s from './dialogs.module.css';\nimport DialogItem from './dialog-item';\nimport Message from './message';\nimport { Redirect } from 'react-router-dom';\nimport AddMessageForm from './add-message-form';\n\n\nconst Dialogs = (props) => {\n\n    let state = props.dialogsPage;\n\n    let dialogsElements = state.dialogs.map( \n        d => <DialogItem name={ d.name } id={ d.id } key={ d.id }/> );\n\n    let messagesElements = state.messages.map( \n        m => <Message message={ m.message } oldMessages={ m.text } key={ m.id }/> );\n    \n    let addNewMessage = (values) => {\n        props.sendMessage(values.newMessageBody);\n        document.getElementById('newMessageBody').value='';\n    };\n    \n    if (!props.isAuth) return <Redirect to={ '/login' } />\n\n\n    return(\n        <div className={ s.dialogs }>\n            <div className={ s.dialogsItems }>\n               { dialogsElements }\n            </div>\n            <div className={ s.messages }>\n                { messagesElements }\n                <AddMessageForm onSubmit={ addNewMessage }/>\n            </div>\n        </div>\n    )\n};\n\nexport default Dialogs;","import { Redirect } from \"react-router-dom\"\nimport React from 'react';\nimport { connect } from \"react-redux\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth\n});\n\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render() {\n            console.log(this.props)\n            if (!this.props.isAuth) return <Redirect to='/login' />\n            return <Component {...this.props} />\n        }\n    }\n\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\n\n    return ConnectedAuthRedirectComponent;\n}","import { sendMessageCreator } from '../../redux/dialogs-reducer';\nimport Dialogs from './dialogs';\nimport { connect } from 'react-redux';\nimport { withAuthRedirect } from '../../hoc/auth-redirect';\nimport { compose } from 'redux';\n\n\nlet mapStateToProps = (state) => {\n    return {\n        dialogsPage: state.dialogsPage\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        sendMessage: (newMessageBody) => {\n            dispatch(sendMessageCreator(newMessageBody));\n        }\n    }\n}\n\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n        withAuthRedirect\n)(Dialogs)","import React, { useState } from 'react';\nimport styles from \"./paginator.module.css\";\nimport cn from \"classnames\";\n\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n    return (\n        <div className={ cn(styles.paginator) }>\n            { portionNumber > 1 &&\n                <button onClick={ () => { setPortionNumber(portionNumber - 1) } }>PREV</button> \n            }\n\n            { pages\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\n                .map((p) => {\n                return <span className={ cn({\n                    [styles.selectedPage]: currentPage === p\n                }, styles.pageNumber) }\n                key={p}\n                onClick={(e) => {\n                    onPageChanged(p);\n                }}>{p}</span>\n            })}\n            \n            { portionCount > portionNumber &&\n                <button onClick={ () => { setPortionNumber(portionNumber + 1) } }>NEXT</button> \n            }\n        </div>\n    )\n}\n\nexport default Paginator;","export default \"data:image/jpeg;base64,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/wD/AHzzzzzzzzzzzzzzzzzz7/8A/wD/AP8A/wD/APjTzzzzzzzzzzzzzzzzzzzzzzzx/wA88888888sKyyyyyyym8888888888888888v8APPPPPPPPPPGvfffffffPPPPPPPPPPPPPPPKE/PPPPPPPPPKH/PPPPPPPPPPPPPPPPPPPPPPHuMt//wD/AP8A/wD+/Xzzzzzzzzzzzzzzzzzzzyg4444wkMMMMcogP3zzzzzzzzzzzzzzzzzzzzwwwwwmnboANPEoP3zzzzzzzzzzzzzzzzzzzzzzzzy4OHKNgo8sNNTzzjzzzzzzzzzzzzzzzzzzzzyAAPFeioEMOuyMObzzzzzzzzzzzzzzzzzzzzwjDPPMPnPfurzzzzzzzzzzzzzzzzzzzzzzzzzzzzdozCjyi3zzzzzzzzzzzzzzzzzzzzj33333TyyoIVzyj3zzzzzzzzzzzzzzzzzzzz04445rTzzzzzzyj3zzzzzzzzzzzzzzzzzzzzzzzzyyjzzzzzzzh3zzzzzzzzzzzzzzzzzy0MMMMMNZVrzzzzz/AKDWULDDD888888888888ssMMMMMM89IW5w7nMMM8MMMM888888888888888888gAAAACyCAAAV88888888888888888888888ssMMMMMMMMMMNc88888888888888888888888888888888099958888888888888888888888888888888tMMMN88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888/8QAKBEAAwAABQMFAAIDAAAAAAAAAAERECExQGEgUfAwQVChsXDBcYGR/9oACAEDAQE/EP5mjIyMnwCc6A3fnE0ioqKioqKioqKhiKioqKioqKioqHs1NWnih4oeKHih4oeKHih4oeKGqBqbn7XprMmffcgAGb/t9S1NVoVlZWVlZWV7Fy19ha9QWJd3uG1c7RwSZmkcZxnGcZxnGcZxixXL/d2DQ6k8TT0w+y/3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\"","import React from 'react';\nimport image from './profile-photo.jpg';\nimport styles from './profile-photo.module.css';\n\n\n\nconst ProfilePhoto = ({ photo }) => {\n    return (\n        <img src={ photo != null ? photo : image } \n            alt='avatar' className={ styles.userPhoto }/>\n    )\n}\n\nexport default ProfilePhoto;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport ProfilePhoto from '../common/profile-photo/profile-photo';\nimport './users.css';\n\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\n\n    return (\n        <div className='users'>\n            <div className='container'>\n                <div className='row'>\n                    <div className='col-4'></div>\n                    <div className='col-2'>\n                        <NavLink to={'/profile/' + user.id}>\n                            <ProfilePhoto photo={user.photos.small} />\n                        </NavLink>\n                    </div>\n                    <div className='col-3'>\n                        <span>\n                            <h5>{user.name}</h5>\n                            <div>{user.status}</div>\n                        </span>\n                        <span>\n                            <div className=''>\n                                {user.followed\n                                    ? <button\n                                        disabled={followingInProgress.some(id => id === user.id)}\n                                        onClick={() => { unfollow(user.id) }}>\n                                        Unfollow</button>\n                                    : <button disabled={followingInProgress.some(id => id === user.id)}\n                                        onClick={() => { follow(user.id) }}>\n                                        Follow</button>}\n                            </div>\n                        </span>\n                    </div>\n                    <div className='col-4'></div>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n\n\nexport default User;","import React from 'react';\nimport Paginator from '../common/paginator/paginator';\nimport User from './user';\n\n\nconst Users = ({ currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props }) => {\n\n    const pagesCount = Math.ceil (props.totalUsersCount / props.pageSize);\n        \n    let pages = [];\n    for (let i=1; i <= pagesCount; i++ ) {\n        pages.push(i);\n    }\n\n    return (\n        <div>\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\n            \n            <div>\n                { users.map( u => <User user={ u }\n                                        followingInProgress={ props.followingInProgress }\n                                        key={ u.id }\n                                        unfollow={ props.unfollow }\n                                        follow={ props.follow }/>\n                )}\n            </div>\n       </div>\n    )\n}\n\n\nexport default Users;","import * as axios from 'axios';\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        'API-KEY': '64f8be29-cf1d-466a-89b4-ad2dfe68ef0e'\n    } \n});\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return instance.get(`users?page=${ currentPage }&count=${ pageSize }`)\n            .then(response => {\n                return response.data;\n            });\n    },\n\n    unfollow(id) {\n        return instance.delete(`follow/${ id }`)\n            .then(response => {\n                return response.data\n        });\n    },\n\n    follow(id) {\n        return instance.post(`follow/${ id }`)\n            .then(response => {\n                return response.data\n        });\n    },\n\n    getProfile(userId) {\n        return profileAPI.getProfile(userId);\n    }\n}\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/` + userId);\n    },\n\n    getStatus(userId) {\n        return instance.get(`profile/status/` + userId);\n    },\n\n    updateStatus(status) {\n        return instance.put(`profile/status`, { status: status });\n    },\n\n    savePhoto(photoFile) {\n        const formData = new FormData();\n        formData.append(\"image\", photoFile);\n        return instance.put(`profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        });\n    },\n    saveProfile(profile) {\n        return instance.put(`profile`, profile);\n    }\n}\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false, captcha = null) {\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha });\n    },\n    logout() {\n        return instance.delete(`auth/login`);\n    }\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`);\n    }\n}\n\n\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return { ...u, ...newObjProps }\n        }\n        return u;\n    })\n}","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from '../utils/object-helpers';\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState = {\n    users: [],\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\n            }\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\n            }\n        case SET_USERS: {\n            return { ...state, users: action.users };\n        }\n        case SET_CURRENT_PAGE: {\n            return { ...state, currentPage: action.currentPage };\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return { ...state, totalUsersCount: action.count };\n        }\n        case TOGGLE_IS_FETCHING: {\n            return { ...state, isFetching: action.isFetching };\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        }\n        default:\n            return state;\n    }\n};\n\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\nexport const setUsers = (users) => ({ type: SET_USERS, users });\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\nexport const toggleFollowingProgress = (isFetching, userId) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userId\n});\n\nexport const requestUsers = (page, pageSize) => {\n\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(page));\n\n        let data = await usersAPI.getUsers(page, pageSize);\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(data.items));\n        dispatch(setTotalUsersCount(data.totalCount));\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId));\n    let response = await apiMethod(userId);\n\n    if (response.resultCode === 0) {\n        dispatch(actionCreator(userId));\n    }\n    dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\n    }\n}\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n    }\n}\n\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/preloader.b767aab4.svg\";","import React from 'react';\nimport preloader from './preloader.svg';\n\nconst Preloader = (props) => {\n    return <div>\n        <img src={ preloader } alt='preloader'/>\n    </div>\n}\n\nexport default Preloader;","import { createSelector } from 'reselect';\n\nconst getUsersSelector = (state) => {\n    return state.usersPage.users;\n}\n\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n    return users.filter(u => true);\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Users from './users';\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer';\nimport Preloader from '../common/preloader/preloader';\nimport { compose } from 'redux';\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers\n} from '../../redux/users-selectors';\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        const { currentPage, pageSize } = this.props;\n        this.props.getUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        const { pageSize } = this.props;\n        this.props.getUsers(pageNumber, pageSize);\n    }\n\n\n    render() {\n\n        return <>\n            { this.props.isFetching ? <Preloader /> : null}\n            <Users totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n                currentPage={this.props.currentPage}\n                onPageChanged={this.onPageChanged}\n                users={this.props.users}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n                followingInProgress={this.props.followingInProgress}\n            />\n        </>\n    }\n}\n\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {\n        follow,\n        unfollow,\n        setCurrentPage,\n        toggleFollowingProgress,\n        getUsers: requestUsers\n    })\n)(UsersContainer);\n","import { usersAPI, profileAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst DELETE_POST = 'DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n    posts: [\n        { id: 1, message: 'Hi, how are you?', likes: 15 },\n        { id: 2, message: 'It\\'s my first post', likes: 20 },\n        { id: 3, message: 'Dada', likes: 21 },\n        { id: 4, message: 'Blabla', likes: 6 }\n    ],\n    profile: null,\n    status: ''\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n            let newPost = {\n                id: 5,\n                message: action.newPostText,\n                likes: 0\n            };\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n                newPostText: ''\n            };\n        }\n\n        case SET_USER_PROFILE: {\n            return {\n                ...state, profile: action.profile\n            }\n        }\n\n        case SET_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n\n        case DELETE_POST:\n            return { ...state, posts: state.posts.filter(p => p.id !== action.postId) }\n\n        case SAVE_PHOTO_SUCCESS:\n            return {\n                ...state,\n                profile: { ...state.profile, photos: action.photos }\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\n\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\n\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\n\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\n\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n    let response = await usersAPI.getProfile(userId);\n    dispatch(setUserProfile(response.data));\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId);\n    dispatch(setStatus(response.data));\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n    try {\n        let response = await profileAPI.updateStatus(status);\n\n        if (response.data.resultCode === 0) {\n            dispatch(setStatus(status));\n        }\n    } catch (error) {\n    }\n}\n\nexport const savePhoto = (file) => async (dispatch) => {\n    let response = await profileAPI.savePhoto(file);\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos));\n    }\n}\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n    const userId = getState().auth.userId;\n    const response = await profileAPI.saveProfile(profile);\n\n    if (response.data.resultCode === 0) {\n        dispatch(getUserProfile(userId));\n    } else {\n        dispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0] }));\n        return Promise.reject(response.data.messages[0]);\n    }\n}\n\nexport default profileReducer;","import Post from './post';\n\nexport default Post;","import React from 'react';\nimport './post.css';\n\nconst Post = (props) => {\n\n    return(\n        <div className='item container'>\n            <div>\n                <div className='row'>\n                    <img src='https://i.pinimg.com/474x/79/6e/c6/796ec6ea849885284691e9656b9cea33.jpg' alt='avatar' className='col-1'></img>\n                    <div className='post-message col-4'>\n                        { props.message }\n                    </div>\n                    <div className='col-7'></div>\n                </div>\n            </div>\n            <div className='post-likes'>\n                <span>likes:</span> { props.likesCount }\n            </div>\n        </div>\n    )\n};\n\nexport default Post;\n    ","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { maxLengthCreator, required } from '../../../utils/validators/validators';\nimport { Textarea } from '../../common/form-controls/forms-control';\nimport './my-posts.css';\nimport Post from './post'; \n\nconst maxLength10 = maxLengthCreator(10);\n\nconst AddNewPostForm = (props) => {\n    return (\n        <form onSubmit={ props.handleSubmit }>\n            <div>\n                <Field name='newPostText' component={ Textarea } placeholder='Post message' \n                    validate={ [required, maxLength10] } id='newPostText' />\n            </div>\n            <div className='button'>\n                <button className='btn btn-primary'>Add post</button>\n            </div>\n        </form>\n    )\n}\n\nlet AddNewPostFormRedux = reduxForm({ form: 'ProfileAddNewPostForm' })(AddNewPostForm);\n\nconst MyPosts = React.memo(props => {\n    const postsElements =\n        [...props.posts]\n            .reverse()\n            .map(p => <Post key={ p.id}  message={ p.message } likesCount={ p.likes }/>);\n    \n    const onAddPost = (values) => {\n        props.addPost(values.newPostText);  \n        document.getElementById('newPostText').value='';\n    }\n\n    return(\n        <div className='myPosts'>\n            <div className='hd-inp'>\n                <h2 className='mp-header'>My Posts</h2>\n                <div className='form-group'>\n                    <label className=\"col-form-label col-form-label-lg\" htmlFor=\"inputLarge\">Whrite your post</label>\n                    <AddNewPostFormRedux onSubmit={ onAddPost } className='mp-input' id=\"inputLarge\" type=\"text\"/>\n                </div>\n            </div>\n            <div className='posts'>\n                { postsElements }\n            </div>\n        </div>\n    )\n});\n\nexport default MyPosts;\n    ","import { addPostActionCreator } from '../../../redux/profile-reducer';\nimport MyPosts from './my-posts';\nimport { connect } from 'react-redux'; \n\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (newPostText) => {\n            dispatch(addPostActionCreator(newPostText));\n        }\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n    ","import React, { useEffect, useState } from 'react';\n\nconst ProfileStatusWithHooks = (props) => {\n    \n    let [editMode, setEditMode] = useState(false);\n\n    let [status, setStatus] = useState(props.status);\n\n    useEffect(() => {\n        setStatus(props.status);\n    }, [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    }\n    \n    return (\n        <div className='row'>\n            { !editMode && \n                <div>\n                    <b>Status: </b> <span onDoubleClick={ activateEditMode }>{props.status || \"-------\"}</span>\n                </div>\n            }\n            { editMode && \n                <div>\n                    <input value={ status } \n                        onChange={ onStatusChange } \n                        onBlur={ deactivateEditMode } \n                        autoFocus={ true } />\n                </div> \n            }\n        </div>\n    )\n}\n\nexport default ProfileStatusWithHooks;","import React from 'react';\nimport './profile-info.css';\nimport { createField, Input, Textarea } from '../../common/form-controls/forms-control'\nimport { reduxForm } from 'redux-form';\n\nconst ProfileDataForm = ({ handleSubmit, profile, error }) => {\n\n    return (\n        <form onSubmit={ handleSubmit }>\n            <div className='container'>\n                <div className='row'>\n                    <div className='col-10'>\n                        <div>\n                            <b>Full name</b>: { createField(\"Full name\", \"fullName\", [], Input) }\n                        </div>\n                        <div>\n                            <b>Looking for a job</b>: { createField(\"\", \"lookingForAJob\", [], Input, { type: \"checkbox\", className: 'lookingForAJob' } ) }\n                        </div>\n                        <div>\n                            <b>My professional skills</b>:\n                            { createField(\"My professional skills\", \"lookingForAJobDescription\", [], Textarea  ) }\n                        </div>\n                        <div>\n                            <b>About me</b>:\n                            { createField(\"About me\", \"aboutMe\", [], Textarea  ) }\n                        </div>\n                        <div>\n                            <b>Contacts</b>: { Object.keys(profile.contacts).map(key => {\n                                return(\n                                    <div key={ key } className='contact'>\n                                        <b>{key}: {createField(key, \"contacts.\" + key, [], Input)}</b>\n                                    </div>\n                                ) \n                            })}\n                        </div>\n                    </div>\n                    <div class-name='col-2'>\n                        <div><button type=\"button\" id=\"btnFetch\" class=\"btn btn-primary mb-2\">Save</button></div>\n                        {error && \n                            <div className='formSummaryError'>\n                                {error}\n                            </div>\n                        }\n                    </div>\n                </div>\n            </div>\n        </form>\n    )\n}\n\nconst ProfileDataFormReduxForm = reduxForm({ form: 'edit-profile' })(ProfileDataForm)\n\nexport default ProfileDataFormReduxForm;","import React, { useState } from 'react';\nimport './profile-info.css';\nimport Preloader from '../../common/preloader/preloader';\nimport ProfileStatusWithHooks from './profile-status/profile-status-with-hooks';\nimport image from '../../common/profile-photo/profile-photo.jpg';\nimport ProfileDataForm from './profile-data-form';\n\nconst ProfileInfo = ({ profile, status, updateStatus, isOwner, savePhoto, saveProfile }) => {\n\n    let [editMode, setEditMode] = useState(false);\n    \n    if (!profile) {\n        return <Preloader />\n    }\n\n    const onMainPhotoSelected = (e) => {\n        if (e.target.files.length) {\n            savePhoto(e.target.files[0]);\n        }\n    }\n\n    const onSubmit = (formData) => {\n        saveProfile(formData).then(\n            () => {\n                setEditMode(false);\n            }\n        );\n    }\n\n    return(\n        <div className='container'>\n            <div className='row'>\n                <div className='avatar col-4'>\n                    <img src={ profile.photos.large || image } className='jumbotron ' alt='avatar'/>\n                    <label className='ch-ph-button'>\n                        { isOwner && <input type={ 'file' } onChange={ onMainPhotoSelected } /> }\n                    </label>\n                </div>\n                <div className='pforile-data col-8'>\n                    <div className='name-and-status col-8'>\n                        <h1 className='full-name'>{ profile.fullName }</h1>\n                        <ProfileStatusWithHooks status={ status } updateStatus={ updateStatus } className='status'/>  \n                    </div>\n                    \n                    { editMode\n                        ? <ProfileDataForm initialValues={ profile } profile={ profile } onSubmit={ onSubmit }/>\n                        : <ProfileData goToEditMode={ () => { setEditMode(true) } } profile={ profile } isOwner={ isOwner }/> }\n                </div>\n            </div>       \n        </div>\n    )\n};\n\nconst ProfileData = ({ profile, isOwner, goToEditMode }) => {\n    return(\n        <div className='container'>\n            <div className='row'>\n                <div className='col-10'> \n                    <table className=\"table\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">Looking for a job:</th>\n                                <td>{ profile.lookingForAJob ? \"yes\" : \"no\" }</td>\n                            </tr>\n                            { profile.lookingForAJob &&\n                                <tr>\n                                    <th scope=\"col\">My professional skills:</th>\n                                    <td>{ profile.lookingForAJobDescription }</td>\n                                </tr>\n                            }   \n                            <tr>\n                                <th scope=\"col\">About me:</th>\n                                <td>{ profile.aboutMe }</td>\n                            </tr>\n                            <tr>\n                                <th scope=\"col\" className='contacts'>Contacts:</th>\n                                <td>{ Object.keys(profile.contacts).map(key => {\n                                    return(\n                                        <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\n                                    )\n                                })}</td>\n                            </tr>\n                        </thead>\n                    </table>\n                </div>\n                <div className='col-2'>\n                    { isOwner && <div><button onClick={ goToEditMode } className='btn btn-primary'>Edit</button></div> }\n                </div>\n            </div> \n        </div>\n    )\n}\n\n\nconst Contact = ({ contactTitle, contactValue }) => {\n    return <a href={ contactValue } >{ contactTitle }</a>\n}\n\nexport default ProfileInfo;\n","import ProfileInfo from './profile-info';\n\nexport default ProfileInfo;","import React from 'react';\nimport MyPostsContainer from './my-posts/my-posts-container';\nimport ProfileInfo from './profile-info';\n\nconst Profile = (props) => {\n\n    return(\n        <div>\n            <ProfileInfo savePhoto={ props.savePhoto } \n                        isOwner={ props.isOwner } \n                        profile={ props.profile } \n                        status={ props.status } \n                        saveProfile={props.saveProfile}\n                        updateStatus={ props.updateStatus }/>\n            <MyPostsContainer />\n      </div>\n    )\n};\n\nexport default Profile;\n    ","import React from 'react';\nimport Profile from './profile';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from '../../redux/profile-reducer';\nimport { compose } from 'redux';\n\n\n\nclass ProfileContainer extends React.Component {\n\n    refreshProfile() {\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n            if (!userId) {\n                this.props.history.push('/login');\n                return ;\n            }\n        }\n        this.props.getUserProfile(userId);\n        this.props.getStatus(userId);\n    }\n    \n    componentDidMount() {\n       this.refreshProfile();\n    }\n\n     componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\n            this.refreshProfile();\n        }\n     }\n\n    render () {\n        return (\n            <Profile { ...this.props } \n                    isOwner={ !this.props.match.params.userId }\n                    profile={ this.props.profile } \n                    status={ this.props.status } \n                    updateStatus={ this.props.updateStatus }\n                    savePhoto={ this.props.savePhoto }\n            />\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return ({\n        profile: state.profilePage.profile,\n        status: state.profilePage.status,\n        authorizedUserId: state.auth.userId, \n        isAuth: state.auth.isAuth\n    });\n}\n\n\nexport default compose(\n    connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile }),\n        withRouter)(ProfileContainer);","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n// import s from './header.module.css';\n\nconst Header = (props) => {\n  return(\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n      <a className=\"navbar-brand\">SamuraiJS</a>\n      <div className=\"collapse navbar-collapse\" id=\"navbarColor01\">\n        <ul className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item active\">\n            <NavLink to='/profile' className=\"nav-link\">Profile\n              <span className=\"sr-only\">(current)</span>\n            </NavLink>\n          </li>\n          <li className=\"nav-item\">\n            <NavLink to='/users' className=\"nav-link\">Users</NavLink>\n          </li>\n          <li className=\"nav-item\">\n          <NavLink to='/dialogs' className=\"nav-link\">Messages</NavLink>\n          </li>\n        </ul>\n      </div>\n\n      <header> \n        <div>\n          { props.isAuth \n            ? <div>{ props.login } - <button onClick={ props.logout } \n                className=\"btn btn-secondary my-2 my-sm-0\">Log Out</button>\n              </div>\n              : <button><NavLink to={ '/login' } \n                  className=\"btn btn-secondary my-2 my-sm-0\">Login</NavLink>\n                </button>\n          }\n        </div>\n      </header>\n    </nav>\n  )\n};\n\nexport default Header;","import { stopSubmit } from 'redux-form';\nimport { authAPI, securityAPI } from '../api/api';\n\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS';\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null // if null, then captcha is not required\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case SET_USER_DATA:\n        case GET_CAPTCHA_URL_SUCCESS:\n            return {\n                ...state,\n               ...action.payload\n            }\n\n        default: \n            return state;\n\n    }\n}\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ \n    type: SET_USER_DATA, payload: \n        { userId, email, login, isAuth } \n});\n\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n    type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me();\n    if (response.data.resultCode === 0) {\n        let userId = response.data.data.id;\n        let { email, login } = response.data.data;\n        dispatch(setAuthUserData(userId, email, login, true));\n    }\n}\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n    if (response.data.resultCode === 0) {\n        // success, get auth data\n        dispatch(getAuthUserData())\n    } else {\n        if (response.data.resultCode === 10) {\n            dispatch(getCaptchaUrl());\n        }\n\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n        dispatch(stopSubmit(\"login\", {_error: message}));\n    }\n}\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout();\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    }\n}\n\nexport default authReducer;","import React from 'react';\nimport Header from './header';\nimport { connect } from 'react-redux';\nimport { getAuthUserData, logout } from '../../redux/auth-reducer';\n\n\n\nclass HeaderContainer extends React.Component {\n\n    componentDidMount() {\n        this.props.getAuthUserData();\n    }\n    \n    render() {\n        return <Header { ...this.props } />\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n});\n\nexport default connect(mapStateToProps, { getAuthUserData, logout }) (HeaderContainer)","import React from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm } from 'redux-form';\nimport { required } from '../../utils/validators/validators';\nimport { login } from '../../redux/auth-reducer';\nimport { Redirect } from 'react-router-dom';\nimport s from '../common/form-controls/forms-control.module.css';\nimport './login.css';\nimport { createField, Input } from '../common/form-controls/forms-control';\n\n\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\n    return (\n        <div className=\"container\">\n            <div className=\"row justify-content-center align-items-center\">\n                <form onSubmit={ handleSubmit } >\n                    <div className=\"form-group\">\n                        { createField(\"Email\", \"email\", [required], Input) }\n                        { createField(\"Password\", \"password\", [required], Input, { type: \"password\" }) }\n                        <div className=\"row justify-content-center align-items-center\">\n                            {createField(null, \"rememberMe\", [], Input, { type: \"checkbox\" }) }\n                            <label htmlFor=\"rememberMe\" className=\"\">Remember me</label>\n                        </div>\n                        { captchaUrl && <img src={captchaUrl} alt=''/>}\n                        { captchaUrl &&  createField(\"Symbols from image\", \"captcha\", [required], Input, {}) }      \n                        { error && \n                            <div className={ s.formSummaryError }>\n                                {  error }\n                            </div> \n                        } \n                        <div>\n                            <button>Login</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\n\nconst Login = (props) => {\n\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={'/profile'} />\n    }\n    \n    return(\n        <div className='login-form'>\n            <h1>Login</h1>\n            <LoginReduxForm onSubmit={ onSubmit } captchaUrl={ props.captchaUrl }/>\n        </div>\n    ) \n}\n\nconst mapStateToProps = (state) => ({\n    captchaUrl: state.auth.captchaUrl,\n    isAuth: state.auth.isAuth\n})\n\nexport default connect(mapStateToProps, { login } )(Login);","import { getAuthUserData } from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\n\nlet initialState = {\n    initialized: false,\n    globalError: null\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n    Promise.all([promise])\n        .then(() => {\n            dispatch(initializedSuccess());\n        });\n}\n\nexport default appReducer;","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n    return state;\n}\n\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, createStore, compose } from 'redux';\nimport profileReducer from './profile-reducer';\nimport dialogsReducer from './dialogs-reducer';\nimport sidebarReducer from './sidebar-reducer';\nimport UsersReducer from './users-reducer';\nimport authReducer from './auth-reducer';\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from './app-reducer';\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sideBar: sidebarReducer,\n    usersPage: UsersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(thunkMiddleware)\n));\n\nwindow.store = store;\n\nexport default store;\n","import React from \"react\";\n\n\nexport const withSuspense = (Component) => {\n    return (props) => {\n        return (\n            <React.Suspense fallback={<div>loading...</div>} >\n                <Component {...props} />\n            </React.Suspense>\n        )\n    };\n}","import React, { Component } from 'react';\nimport './app.css';\nimport { BrowserRouter, Redirect, Route, Switch, withRouter } from \"react-router-dom\";\nimport DialogsContainer from '../dialogs/dialogs-container';\nimport UsersContainer from '../users/users-container';\nimport ProfileContainer from '../profile/profile-container';\nimport HeaderContainer from '../header/header-container';\nimport Login from '../login/login';\nimport { connect, Provider } from 'react-redux';\nimport { compose } from 'redux';\nimport { initializeApp} from '../../redux/app-reducer';\nimport Preloader from '../common/preloader/preloader';\nimport store from '../../redux/redux-store';\nimport { withSuspense } from \"../../hoc/with-suspence\";\n\nclass App extends Component {\n\n      catchAllUnhandledErrors = (reason, promise) => {\n            alert(\"Some error occured\");\n      }\n\n      componentDidMount() {\n            this.props.initializeApp();\n            window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);    \n      }\n        \n      componentWillUnmount() {\n            window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n      }\n\n      render() {\n            if (!this.props.initialized) {\n                  return <Preloader />\n            }\n            return (\n                  <div className='appWrapper container-lg'> \n                        <HeaderContainer />\n                        {/* <Navbar /> */}\n          \n                        <div className='content card mb-3'>\n                              <Switch>\n                                    <Route exact path='/'\n                                          render={ () => <Redirect to={\"/profile\"}/>}/>\n                                    <Route path='/profile/:userId?'\n                                          render={ withSuspense(ProfileContainer)}/>\n                                    <Route path='/dialogs'\n                                          render={ withSuspense(DialogsContainer)}/>\n                                    <Route path='/users' \n                                          render={ () => <UsersContainer /> }/>\n                                    <Route path='/login' \n                                          render={ () => <Login /> }/>\n                                    <Route path='*'\n                                          render={ () => <div>404 NOT FOUND</div>}/>\n                              </Switch>\n                        </div>\n                  </div>\n            )\n      }\n \n}\n\nconst mapStateToProps = (state) => ({\n      initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n      withRouter,\n      connect(mapStateToProps, { initializeApp }))(App);\n  \nconst SamuraiJSApp = (props) => {\n      return <BrowserRouter basename=\"react-way-of-samurai\">\n                  <Provider store={ store }>\n                        <AppContainer/>\n                  </Provider>\n            </BrowserRouter>\n}\n\nexport default SamuraiJSApp; ","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"bootswatch/dist/sketchy/bootstrap.min.css\";\nimport SamuraiJSApp from './components/app/app';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/redux-store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <SamuraiJSApp />\n    </Provider>\n  </BrowserRouter>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"forms-control_formControl__1HoJA\",\"error\":\"forms-control_error__1fBYT\",\"formSummaryError\":\"forms-control_formSummaryError__3XRtQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__2B_-5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"dialog-item_dialog__2_Pyc\",\"nameLink\":\"dialog-item_nameLink__3aNSg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"paginator_paginator__19aej\",\"pageNumber\":\"paginator_pageNumber__1InlL\",\"selectedPage\":\"paginator_selectedPage__2HpBs\"};"],"sourceRoot":""}