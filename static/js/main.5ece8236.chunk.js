(this["webpackJsonpreact-learning-1"]=this["webpackJsonpreact-learning-1"]||[]).push([[0],{128:function(e,t,a){e.exports={message:"message_message__d8OzE"}},132:function(e,t,a){e.exports={userPhoto:"profile-photo_userPhoto__3jE6C"}},135:function(e,t,a){e.exports={item:"post_item__3pXDv"}},15:function(e,t,a){e.exports={nav:"nav-bar_nav__1otgK",item:"nav-bar_item__21ucM",active:"nav-bar_active__NAw8I"}},166:function(e,t,a){},167:function(e,t,a){},288:function(e,t,a){"use strict";a.r(t);var n=a(0),A=a.n(n),r=a(63),o=a.n(r),s=(a(166),a(24)),i=a(25),c=a(27),u=a(26),l=(a(167),a(15)),P=a.n(l),m=a(11),f=function(){return A.a.createElement("nav",{className:P.a.nav},A.a.createElement("div",{className:P.a.item},A.a.createElement(m.c,{to:"/profile",activeClassName:P.a.active},"Profile")),A.a.createElement("div",{className:P.a.item},A.a.createElement(m.c,{to:"users",activeClassName:P.a.active},"Users")),A.a.createElement("div",{className:P.a.item},A.a.createElement(m.c,{to:"dialogs",activeClassName:P.a.active},"Messages")),A.a.createElement("div",{className:P.a.item},A.a.createElement(m.c,{to:"news",activeClassName:P.a.active},"News")),A.a.createElement("div",{className:P.a.item},A.a.createElement(m.c,{to:"music",activeClassName:P.a.active},"Music")),A.a.createElement("div",{className:P.a.item},A.a.createElement(m.c,{to:"settings",activeClassName:P.a.active},"Settings")))},p=a(10),d=a(31),z=a(5),h="SEND_MESSAGE",g={dialogs:[{id:1,name:"Luda"},{id:2,name:"Sasha"},{id:3,name:"Vika"},{id:4,name:"Nika"}],messages:[{id:1,text:"Hi"},{id:2,text:"How are you?"},{id:3,text:"What is your name?"},{id:4,text:"What is your favorite color? "}]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var a=t.newMessageBody;return Object(z.a)(Object(z.a)({},e),{},{messages:[].concat(Object(d.a)(e.messages),[{id:6,message:a}])});default:return e}},b=a(68),v=a.n(b),y=a(69),j=a.n(y),O=function(e){var t="/dialogs/"+e.id;return A.a.createElement("div",{className:j.a.dialog+" "+j.a.active},A.a.createElement(m.c,{to:t,className:j.a.nameLink},e.name))},w=a(128),k=a.n(w),C=function(e){return A.a.createElement("div",{className:k.a.message},e.message," ",e.oldMessages)},M=a(125),x=a(126),S=function(e){if(!e)return"Field is required"},N=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},I=a(54),F=a(36),V=a.n(F),K=function(e){e.input;var t=e.meta,a=t.touched,n=t.error,r=e.children,o=a&&n;return A.a.createElement("div",{className:V.a.formControl+" "+(o?V.a.error:"")},A.a.createElement("div",null,r),o&&A.a.createElement("span",null,n))},Q=function(e){var t=e.input,a=(e.meta,e.child,Object(I.a)(e,["input","meta","child"]));return A.a.createElement(K,e,A.a.createElement("textarea",Object.assign({},t,a)))},U=function(e){var t=e.input,a=(e.meta,e.child,Object(I.a)(e,["input","meta","child"]));return A.a.createElement(K,e,A.a.createElement("input",Object.assign({},t,a)))},B=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return A.a.createElement("div",null,A.a.createElement(M.a,Object.assign({placeholder:e,name:t,validate:a,component:n},r))," ",o)},L=N(50),R=Object(x.a)({form:"dialog-add-message-form"})((function(e){return A.a.createElement("form",{onSubmit:e.handleSubmit},A.a.createElement("div",null,A.a.createElement(M.a,{component:Q,validate:[S,L],placeholder:"Enter your message",name:"newMessageBody"})),A.a.createElement("div",null,A.a.createElement("button",null,"Send")))})),T=function(e){var t=e.dialogsPage,a=t.dialogs.map((function(e){return A.a.createElement(O,{name:e.name,id:e.id,key:e.id})})),n=t.messages.map((function(e){return A.a.createElement(C,{message:e.message,oldMessages:e.text,key:e.id})}));return e.isAuth?A.a.createElement("div",{className:v.a.dialogs},A.a.createElement("div",{className:v.a.dialogsItems},a),A.a.createElement("div",{className:v.a.messages},n,A.a.createElement(R,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}}))):A.a.createElement(p.a,{to:"/login"})},D=a(9),H=function(e){return{isAuth:e.auth.isAuth}},Y=a(6),G=Object(Y.d)(Object(D.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:h,newMessageBody:e}}(t))}}})),(function(e){var t=function(t){Object(c.a)(n,t);var a=Object(u.a)(n);function n(){return Object(s.a)(this,n),a.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return console.log(this.props),this.props.isAuth?A.a.createElement(e,this.props):A.a.createElement(p.a,{to:"/login"})}}]),n}(A.a.Component);return Object(D.b)(H)(t)}))(T),W=a(66),Z=a(37),q=a(71),J=a.n(q),X=a(131),_=a.n(X),$=function(e){for(var t=e.totalItemsCount,a=e.pageSize,r=e.currentPage,o=e.onPageChanged,s=e.portionSize,i=void 0===s?10:s,c=Math.ceil(t/a),u=[],l=1;l<=c;l++)u.push(l);var P=Math.ceil(c/i),m=Object(n.useState)(1),f=Object(Z.a)(m,2),p=f[0],d=f[1],z=(p-1)*i+1,h=p*i;return A.a.createElement("div",{className:J.a.paginator},p>1&&A.a.createElement("button",{onClick:function(){d(p-1)}},"PREV"),u.filter((function(e){return e>=z&&e<=h})).map((function(e){return A.a.createElement("span",{className:_()(Object(W.a)({},J.a.selectedPage,r===e),J.a.pageNumber),key:e,onClick:function(t){o(e)}},e)})),P>p&&A.a.createElement("button",{onClick:function(){d(p+1)}},"NEXT"))},ee="data:image/jpeg;base64,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/wD/AHzzzzzzzzzzzzzzzzzz7/8A/wD/AP8A/wD/APjTzzzzzzzzzzzzzzzzzzzzzzzx/wA88888888sKyyyyyyym8888888888888888v8APPPPPPPPPPGvfffffffPPPPPPPPPPPPPPPKE/PPPPPPPPPKH/PPPPPPPPPPPPPPPPPPPPPPHuMt//wD/AP8A/wD+/Xzzzzzzzzzzzzzzzzzzzyg4444wkMMMMcogP3zzzzzzzzzzzzzzzzzzzzwwwwwmnboANPEoP3zzzzzzzzzzzzzzzzzzzzzzzzy4OHKNgo8sNNTzzjzzzzzzzzzzzzzzzzzzzzyAAPFeioEMOuyMObzzzzzzzzzzzzzzzzzzzzwjDPPMPnPfurzzzzzzzzzzzzzzzzzzzzzzzzzzzzdozCjyi3zzzzzzzzzzzzzzzzzzzzj33333TyyoIVzyj3zzzzzzzzzzzzzzzzzzzz04445rTzzzzzzyj3zzzzzzzzzzzzzzzzzzzzzzzzyyjzzzzzzzh3zzzzzzzzzzzzzzzzzy0MMMMMNZVrzzzzz/AKDWULDDD888888888888ssMMMMMM89IW5w7nMMM8MMMM888888888888888888gAAAACyCAAAV88888888888888888888888ssMMMMMMMMMMNc88888888888888888888888888888888099958888888888888888888888888888888tMMMN88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888/8QAKBEAAwAABQMFAAIDAAAAAAAAAAERECExQGEgUfAwQVChsXDBcYGR/9oACAEDAQE/EP5mjIyMnwCc6A3fnE0ioqKioqKioqKhiKioqKioqKioqHs1NWnih4oeKHih4oeKHih4oeKGqBqbn7XprMmffcgAGb/t9S1NVoVlZWVlZWV7Fy19ha9QWJd3uG1c7RwSZmkcZxnGcZxnGcZxixXL/d2DQ6k8TT0w+y/3bUUUUUaAl4T2E6rixoMet4fZf7ur3eeiQloRqiF28EkzGo4N4uun7uH77r6v9j16dbo/L+hGRkObZDka7jc8mc5z4bGYOM0c5z4cqRxIu89+270sEQbg0iYPYgppa8fvP920ZGRkZGaWK+arszijaiyXHR95/u1TnUDS9H7j/d2pa91l6C2uN3N7NK9YDUwAL+7t1K6xdPTA+oD2qbaoyJKaA5/nFhryT/o9rV7uiiiiihNFE8iiiiitzRRRRRRRRRRRXwSVKKKI/gE5/NAf/8QAIxEAAgEEAgIDAQEAAAAAAAAAAAEREDFAYSAhMEFQgKFRYP/aAAgBAgEBPxD6FQQR/pbobTabTabTabTabRO95VjxutFrK5zgpZ/CIhIYxofkaUnkLWGJWNZD7NptNptNptNptGlHjSSSTS58mn0NNXp+BY0EEEUuY5Jkl/RJQ6pX7FRJU/Aspx7c9nWMMqeIyIo+Fi2XFRs7vgmsraymhUpihsaTTRa3EEHs0mk0js4hTlu9HaSlIteqISWPWYray3erSfZuCQ5fb4WsaCCCCB38Nr4OJkZi1hjr+TGhCVzWpEsXRUsCoEkul8DC+q//xAAsEAACAQIFAgUFAQEBAAAAAAAAARFhkSExUXHxQfAQIFCh0TBAgbHBYHCQ/9oACAEBAAE/EP8A22RSkW7KNxRuKNxRuKNxRuHpq4004eD9eZJjykzxWP0GTaOiS9fSlCQtzljljljljljljnv+ezJ1YihJhQoLFBYoLFBYoLFBYoLFBYoLFBYoLFBYoLFBYoLFBYoLFBYQRSTyceK0rIsTiCgsUFigsUFigsUFigsUFigsUFigsUFigsUFigsUFigsNyaJ6pDz+8TaaazE0Yo3ubNzZubNzZubNzZubNzZubNzZubNzZubNzZubNzZubNzZuRKahLp4uRmIlpubNzZubNzZubNzZubNzZubNzZubNzZubNzZubNzZubNx4SFPWf9Yh8yPicTBxb4OPfBx74OPfBx74OPfBx74OPfBx74OPfBx74OPfBx74OPfBx74OPfBx74OPfBxb4H3hapWMEmDoK6Ft95Mlf4emwoHg90OEGMEvcmQ9GY6Mx0ZjozHRmOjMdGY6Mx0ZjozHRmOjMdGQ9HYh6O3oOL7hHtpvHUmp6H4+php4QoWWfoHZMIx659fuJHJFM3n0H9bMzMzMzMzMiEqegwwof8N9x9w5k4d+F9oxMTExMTExMTExMTExMfQWLmJbaWb6rZk/bsmLNx7xj6e5iN0o6vj7h25tf7enomJE2wafUdKOGbd5bv4My7zRDX2vVHuP7eo02ZtYr85jVukrD5FXilsfw5D4CYkLSeZcuXLly5cuXLly5cuXLly5cuXLly5cuXLly5cuSn/uWImwMPFvCd/S5JJJJJJJ8Hkz2D9fZe6/i9KVBkSnwrijijijijijijijijij2i+mySHNpKRxn/CSissyIWtQFnH7IxMNf7ixUrLx7Si9KdCKm5U3Km5U3Km5U3Km5U3Km5U3Gl+qP28EJtHYlo7EtHbzL5lhWqahjzQHQap4WGxO9XpXPdDhdmTmfxmfHtKL1R5M9g/XgqBZ01k20p/A9KUttsTkwrpBymmw9zE0ZwkYXE+aRFAJ6GpRIWzysTeMxIQoSISVPH3X8XqkoyPYP14KEu8gafQYG1ZIjj8wRhy4LR6QJszJEFK3gWzgB0XgkUCb6dSIIN5So8ig31KXawmI0sSmtU/I5x6/wah4+pJL2HKSwN9TGMM272XjIjhBmnr+FLGk225YtvqN9uowatRbFeDyHsGLfg9vMsJ8GQELNNXGAw6hhi+ob22Nck0bRUwTivkkRqKuSFkQalepdR78d50eKJjJNNQ0+o4K2Sg7VhKWzFiGJoSXg8nsPN+GVu/Fo1IVsaw0/aBOCXCWLbebb6vye1/p46p6yMWU5TlOU5L0kxmXT0rqPfjvOjzvNsPN+GVu/oe1/p46+eJXVFMUxTFMMx7W69PSuoXaOGbT1kcxITtRuMP5555555507COeuWJwSZPHwjBeyBY4xj9Ceeeddedrncya6dNh+UiJ+pJw5QmNJOuh3vV9B9ylh5w0a/oxR6dOBuzFCAfQZGRjPGKiTDp6ms1udn1eVS04ThedJtNpZeb3n9vVFmtzs+ryo2RuLqYwiHqhZT6wlrd1Q2qPBohrxYxaO6Oey6jhqGPGJ6trTy9Ue4/t6os1udn1eVjWJOvHb4/Ak4JiUP4axRkTLooxcWcOiH8MGS8mmb9BFi/BzllX4HXy9Ue4/t6U5hJZTXKa5TXKa5TXKa5TXKa5TXFOsGeosKfT9r6DxzI+h1R7j+3pTrD9JkbnYtX2PVHuP7elJtOVgzmjmjmjmjmjmjmjmjmhTLW1FaRmx7vskaDz+b9VdERF+TP3+xQJL0iqxWRE2L1Vs6z+BdURqmvsG6MJddX49HUyyNTvtHfaO+0d9o77R32jvtHfaO+0d9o77R32h8oaacPB+DpNzKWdH9R1+tOjFo7Ao2vCRqEjvNHfaO+0PcEeKmWQd5o77R32jvtHfaO+0dpiNoah/cQadEYfWZZM4xF4N5Zxa7YdRqWHR/TSbJI23gksx+k89Sjc0XuJIrCEJLywknnOHgs8SDTojD6DLAzjH7hFDEqM5Y5Y5Y5Y5Y5Y5Y5Y5Y5Y5Y5Y5Y6+TTRE5rZ9DUlsn8Hkx2QuaSH5+qSxehFUAYvZDpNbv+GhyByxyxyxyxywwlm3XxTQgqM5Y5Y5Y5Y5Y5Y5YbbcvF+mUN8kwOH2AnUbN4fq/pmK4l6DUM6x1ICdoIXY1CSacu7Itrb67/BwZBSY/ljqsRv6xgbwWbKbuU3cpu5Tdym7lN3KbuU3cpu5Tdym7lN3KbuU3cpu5Tdym7lN3KbuU3cpu5Tdym7k+5pqvp+VpWTKlhUdiq7FV2KrsVXYquxVdiq7FV2KrsVXYquxVdiq7FV2KrsVXYquxVdiq7FV2KrsOOptvVC/6hjC0nkkVritcVritcVritcVriFJPVPT19YbEdfOkklRmanq3/61f//Z",te=a(132),ae=a.n(te),ne=function(e){var t=e.photo;return A.a.createElement("img",{src:null!=t?t:ee,alt:"avatar",className:ae.a.userPhoto})},Ae=function(e){var t=e.user,a=e.followingInProgress,n=e.unfollow,r=e.follow;return A.a.createElement("div",null,A.a.createElement("span",null,A.a.createElement("div",null,A.a.createElement(m.c,{to:"/profile/"+t.id},A.a.createElement(ne,{photo:t.photos.small}))),A.a.createElement("div",null,t.followed?A.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){n(t.id)}},"Unfollow"):A.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Follow"))),A.a.createElement("span",null,A.a.createElement("span",null,A.a.createElement("div",null,t.name),A.a.createElement("div",null,t.status)),A.a.createElement("span",null,A.a.createElement("div",null,"u.location.city"),A.a.createElement("div",null,"u.location.country"))))},re=function(e){for(var t=e.currentPage,a=e.totalUsersCount,n=e.pageSize,r=e.onPageChanged,o=e.users,s=Object(I.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]),i=Math.ceil(s.totalUsersCount/s.pageSize),c=[],u=1;u<=i;u++)c.push(u);return A.a.createElement("div",null,A.a.createElement($,{currentPage:t,onPageChanged:r,totalItemsCount:a,pageSize:n}),A.a.createElement("div",null,o.map((function(e){return A.a.createElement(Ae,{user:e,followingInProgress:s.followingInProgress,key:e.id,unfollow:s.unfollow,follow:s.follow})}))))},oe=a(8),se=a.n(oe),ie=a(14),ce=a(133).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"64f8be29-cf1d-466a-89b4-ad2dfe68ef0e"}}),ue={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return ce.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return ce.delete("follow/".concat(e)).then((function(e){return e.data}))},follow:function(e){return ce.post("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return le.getProfile(e)}},le={getProfile:function(e){return ce.get("profile/"+e)},getStatus:function(e){return ce.get("profile/status/"+e)},updateStatus:function(e){return ce.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),ce.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return ce.put("profile",e)}},Pe=function(){return ce.get("auth/me")},me=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ce.post("auth/login",{email:e,password:t,rememberMe:a})},fe=function(){return ce.delete("auth/login")},pe=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(z.a)(Object(z.a)({},e),n):e}))},de="FOLLOW",ze="UNFOLLOW",he="SET_USERS",ge="SET_CURRENT_PAGE",Ee="SET_TOTAL_USERS_COUNT",be="TOGGLE_IS_FETCHING",ve="TOGGLE_IS_FOLLOWING_PROGRESS",ye={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},je=function(e){return{type:de,userId:e}},Oe=function(e){return{type:ze,userId:e}},we=function(e){return{type:ge,currentPage:e}},ke=function(e){return{type:be,isFetching:e}},Ce=function(e,t){return{type:ve,isFetching:e,userId:t}},Me=function(){var e=Object(ie.a)(se.a.mark((function e(t,a,n,A){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ce(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(A(a)),t(Ce(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,A){return e.apply(this,arguments)}}(),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(z.a)(Object(z.a)({},e),{},{users:pe(e.users,t.userId,"id",{followed:!0})});case ze:return Object(z.a)(Object(z.a)({},e),{},{users:pe(e.users,t.userId,"id",{followed:!1})});case he:return Object(z.a)(Object(z.a)({},e),{},{users:t.users});case ge:return Object(z.a)(Object(z.a)({},e),{},{currentPage:t.currentPage});case Ee:return Object(z.a)(Object(z.a)({},e),{},{totalUsersCount:t.count});case be:return Object(z.a)(Object(z.a)({},e),{},{isFetching:t.isFetching});case ve:return Object(z.a)(Object(z.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(d.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Se=a.p+"static/media/preloader.b767aab4.svg",Ne=function(e){return A.a.createElement("div",null,A.a.createElement("img",{src:Se,alt:"preloader"}))},Ie=a(134),Fe=Object(Ie.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Ve=function(e){return e.usersPage.pageSize},Ke=function(e){return e.usersPage.totalUsersCount},Qe=function(e){return e.usersPage.currentPage},Ue=function(e){return e.usersPage.isFetching},Be=function(e){return e.usersPage.followingInProgress},Le=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,A=new Array(n),r=0;r<n;r++)A[r]=arguments[r];return(e=t.call.apply(t,[this].concat(A))).onPageChanged=function(t){var a=e.props.pageSize;e.props.getUsers(t,a)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,a=e.pageSize;this.props.getUsers(t,a)}},{key:"render",value:function(){return A.a.createElement(A.a.Fragment,null,this.props.isFetching?A.a.createElement(Ne,null):null,A.a.createElement(re,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),a}(A.a.Component),Re=Object(Y.d)(Object(D.b)((function(e){return{users:Fe(e),pageSize:Ve(e),totalUsersCount:Ke(e),currentPage:Qe(e),isFetching:Ue(e),followingInProgress:Be(e)}}),{follow:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Me(a,e,ue.follow.bind(ue),je);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Me(a,e,ue.unfollow.bind(ue),Oe);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:we,toggleFollowingProgress:Ce,getUsers:function(e,t){return function(){var a=Object(ie.a)(se.a.mark((function a(n){var A;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ke(!0)),n(we(e)),a.next=4,ue.getUsers(e,t);case 4:A=a.sent,n(ke(!1)),n((o=A.items,{type:he,users:o})),n((r=A.totalCount,{type:Ee,count:r}));case 8:case"end":return a.stop()}var r,o}),a)})));return function(e){return a.apply(this,arguments)}}()}}))(Le),Te=a(23),De="ADD-POST",He="SET_USER_PROFILE",Ye="SET_STATUS",Ge="SAVE_PHOTO_SUCCESS",We={posts:[{id:1,message:"Hi, how are you?",likes:15},{id:2,message:"It's my first post",likes:20},{id:3,message:"Dada",likes:21},{id:4,message:"Blabla",likes:6}],profile:null,status:""},Ze=function(e){return{type:Ye,status:e}},qe=function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){var n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.getProfile(e);case 2:n=t.sent,a((A=n.data,{type:He,profile:A}));case 4:case"end":return t.stop()}var A}),t)})));return function(e){return t.apply(this,arguments)}}()},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:var a={id:5,message:t.newPostText,likes:0};return Object(z.a)(Object(z.a)({},e),{},{posts:[].concat(Object(d.a)(e.posts),[a]),newPostText:""});case He:return Object(z.a)(Object(z.a)({},e),{},{profile:t.profile});case Ye:return Object(z.a)(Object(z.a)({},e),{},{status:t.status});case Ge:return Object(z.a)(Object(z.a)({},e),{},{profile:Object(z.a)(Object(z.a)({},e.profile),{},{photos:t.photos})});default:return e}},Xe=a(72),_e=a.n(Xe),$e=a(135),et=a.n($e),tt=function(e){return A.a.createElement("div",{className:et.a.item},A.a.createElement("img",{src:"https://i.pinimg.com/474x/79/6e/c6/796ec6ea849885284691e9656b9cea33.jpg",alt:"avatar"}),e.message,A.a.createElement("div",null,A.a.createElement("span",null,"likes: ")," ",e.likesCount))},at=N(10),nt=Object(x.a)({form:"ProfileAddNewPostForm"})((function(e){return A.a.createElement("form",{onSubmit:e.handleSubmit},A.a.createElement("div",null,A.a.createElement(M.a,{name:"newPostText",component:Q,placeholder:"Post message",validate:[S,at]})),A.a.createElement("div",{className:_e.a.button},A.a.createElement("button",null,"Add post")))})),At=A.a.memo((function(e){var t=Object(d.a)(e.posts).reverse().map((function(e){return A.a.createElement(tt,{key:e.id,message:e.message,likesCount:e.likesCount})}));return A.a.createElement("div",{className:_e.a.myPosts},A.a.createElement("h3",null,"My Posts"),A.a.createElement(nt,{onSubmit:function(t){e.addPost(t.newPostText)}}),A.a.createElement("div",{className:_e.a.posts},t))})),rt=Object(D.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:De,newPostText:e}}(t))}}}))(At),ot=a(39),st=a.n(ot),it=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(e.status),i=Object(Z.a)(s,2),c=i[0],u=i[1];Object(n.useEffect)((function(){u(e.status)}),[e.status]);return A.a.createElement("div",null,!r&&A.a.createElement("div",null,A.a.createElement("b",null,"Status: ")," ",A.a.createElement("span",{onDoubleClick:function(){o(!0)}},e.status||"-------")),r&&A.a.createElement("div",null,A.a.createElement("input",{value:c,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(c)},autoFocus:!0})))},ct=Object(x.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return A.a.createElement("form",{onSubmit:t},A.a.createElement("div",null,A.a.createElement("button",null,"save")),n&&A.a.createElement("div",{className:V.a.formSummaryError},n),A.a.createElement("div",null,A.a.createElement("b",null,"Full name"),": ",B("Full name","fullName",[],U)),A.a.createElement("div",null,A.a.createElement("b",null,"Looking for a job"),": ",B("","lookingForAJob",[],U,{type:"checkbox"})),A.a.createElement("div",null,A.a.createElement("b",null,"My professional skills"),":",B("My professional skills","lookingForAJobDescription",[],Q)),A.a.createElement("div",null,A.a.createElement("b",null,"About me"),":",B("About me","aboutMe",[],Q)),A.a.createElement("div",null,A.a.createElement("b",null,"Contacts"),": ",Object.keys(a.contacts).map((function(e){return A.a.createElement("div",{key:e,className:st.a.contact},A.a.createElement("b",null,e,": ",B(e,"contacts."+e,[],U)))}))))})),ut=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return A.a.createElement("div",null,a&&A.a.createElement("div",null,A.a.createElement("button",{onClick:n},"edit")),A.a.createElement("div",null,A.a.createElement("b",null,"Full name"),": ",t.fullName),A.a.createElement("div",null,A.a.createElement("b",null,"Looking for a job"),": ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&A.a.createElement("div",null,A.a.createElement("b",null,"My professional skills"),": ",t.lookingForAJobDescription),A.a.createElement("div",null,A.a.createElement("b",null,"About me"),": ",t.aboutMe),A.a.createElement("div",null,A.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return A.a.createElement(lt,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))},lt=function(e){var t=e.contactTitle,a=e.contactValue;return A.a.createElement("div",{className:st.a.contact},A.a.createElement("b",null,t),": ",a)},Pt=function(e){var t=e.profile,a=e.status,r=e.updateStatus,o=e.isOwner,s=e.savePhoto,i=e.saveProfile,c=Object(n.useState)(!1),u=Object(Z.a)(c,2),l=u[0],P=u[1];if(!t)return A.a.createElement(Ne,null);return A.a.createElement("div",null,A.a.createElement("div",{className:st.a.descriptionBlock},A.a.createElement("img",{className:st.a.cover,src:"https://i.pinimg.com/564x/ab/07/dd/ab07dd2ad38d737748f7ce4ddfa6b655.jpg",alt:"cover"}),A.a.createElement("img",{src:t.photos.large||ee,className:st.a.avatar,alt:"avatar"}),o&&A.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}}),l?A.a.createElement(ct,{initialValues:t,profile:t,onSubmit:function(e){i(e).then((function(){P(!1)}))}}):A.a.createElement(ut,{goToEditMode:function(){P(!0)},profile:t,isOwner:o}),A.a.createElement(it,{status:a,updateStatus:r})))},mt=function(e){return A.a.createElement("div",null,A.a.createElement(Pt,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),A.a.createElement(rt,null))},ft=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return A.a.createElement(mt,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),a}(A.a.Component),pt=Object(Y.d)(Object(D.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:qe,getStatus:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){var n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.getStatus(e);case 2:n=t.sent,a(Ze(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(Ze(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a){var n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.savePhoto(e);case 2:0===(n=t.sent).data.resultCode&&a((A=n.data.data.photos,{type:Ge,photos:A}));case 4:case"end":return t.stop()}var A}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(a,n){var A,r;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A=n().auth.userId,t.next=3,le.saveProfile(e);case 3:if(0!==(r=t.sent).data.resultCode){t.next=8;break}a(qe(A)),t.next=10;break;case 8:return a(Object(Te.a)("edit-profile",{_error:r.data.messages[0]})),t.abrupt("return",Promise.reject(r.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),p.f)(ft),dt=a(73),zt=a.n(dt),ht=function(e){return A.a.createElement("header",{className:zt.a.header},A.a.createElement("div",{className:zt.a.loginBlock},e.isAuth?A.a.createElement("div",null,e.login," - ",A.a.createElement("button",{onClick:e.logout},"Log Out")):A.a.createElement(m.c,{to:"/login",className:zt.a.loginBlockLink},"Login")))},gt="samurai-network/auth/SET_USER_DATA",Et={userId:null,email:null,login:null,isAuth:!1},bt=function(e,t,a,n){return{type:gt,payload:{userId:e,email:t,login:a,isAuth:n}}},vt=function(){return function(){var e=Object(ie.a)(se.a.mark((function e(t){var a,n,A,r,o;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data.id,A=a.data.data,r=A.email,o=A.login,t(bt(n,r,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:return Object(z.a)(Object(z.a)({},e),t.payload);default:return e}},jt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return A.a.createElement(ht,this.props)}}]),a}(A.a.Component),Ot=Object(D.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getAuthUserData:vt,logout:function(){return function(){var e=Object(ie.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:0===e.sent.data.resultCode&&t(bt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(jt),wt=Object(x.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.error;return A.a.createElement("form",{onSubmit:t},B("Email","email",[S],U),B("Password","password",[S],U,{type:"password"}),B(null,"rememberMe",[],U,{type:"checkbox"},"remember me"),a&&A.a.createElement("div",{className:V.a.formSummaryError},a),A.a.createElement("div",null,A.a.createElement("button",null,"Login")))})),kt=Object(D.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,a){return function(){var n=Object(ie.a)(se.a.mark((function n(A){var r,o;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,me(e,t,a);case 2:0===(r=n.sent).data.resultCode?A(vt()):(o=r.data.messages.length>0?r.data.messages[0]:"SomeError",A(Object(Te.a)("login",{_error:o})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?A.a.createElement(p.a,{to:"/profile"}):A.a.createElement("div",null,A.a.createElement("h1",null,"Login"),A.a.createElement(wt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),Ct="INITIALIZED_SUCCESS",Mt={initialized:!1},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:return Object(z.a)(Object(z.a)({},e),{},{initialized:!0});default:return e}},St={},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;return e},It=a(136),Ft=a(127),Vt=Object(Y.c)({profilePage:Je,dialogsPage:E,sideBar:Nt,usersPage:xe,auth:yt,form:Ft.a,app:xt}),Kt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,Qt=Object(Y.e)(Vt,Kt(Object(Y.a)(It.a)));window.store=Qt;var Ut=Qt,Bt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?A.a.createElement("div",{className:"appWrapper"},A.a.createElement(Ot,null),A.a.createElement(f,null),A.a.createElement("div",{className:"content"},A.a.createElement(p.b,{path:"/profile/:userId?",render:function(){return A.a.createElement(pt,null)}}),A.a.createElement(p.b,{path:"/dialogs",render:function(){return A.a.createElement(G,null)}}),A.a.createElement(p.b,{path:"/users",render:function(){return A.a.createElement(Re,null)}}),A.a.createElement(p.b,{path:"/news"}),A.a.createElement(p.b,{path:"/music"}),A.a.createElement(p.b,{path:"/settings"}),A.a.createElement(p.b,{path:"/login",render:function(){return A.a.createElement(kt,null)}}))):A.a.createElement(Ne,null)}}]),a}(n.Component),Lt=Object(Y.d)(p.f,Object(D.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(vt());Promise.all([t]).then((function(){e({type:Ct})}))}}}))(Bt),Rt=function(e){return A.a.createElement(m.b,{basename:"/react-way-of-samurai"},A.a.createElement(D.a,{store:Ut},A.a.createElement(Lt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(A.a.createElement(m.a,null,A.a.createElement(D.a,{store:Ut},A.a.createElement(Rt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,a){e.exports={formControl:"forms-control_formControl__1HoJA",error:"forms-control_error__1fBYT",formSummaryError:"forms-control_formSummaryError__3XRtQ"}},39:function(e,t,a){e.exports={cover:"profile-info_cover__1j802",avatar:"profile-info_avatar__2ghvb",descriptionBlock:"profile-info_descriptionBlock__BbrXa",mainPhoto:"profile-info_mainPhoto__16kOB",contact:"profile-info_contact__3heCU"}},68:function(e,t,a){e.exports={dialogs:"dialogs_dialogs__2B_-5"}},69:function(e,t,a){e.exports={dialog:"dialog-item_dialog__2_Pyc",nameLink:"dialog-item_nameLink__3aNSg"}},71:function(e,t,a){e.exports={paginator:"paginator_paginator__19aej",pageNumber:"paginator_pageNumber__1InlL",selectedPage:"paginator_selectedPage__2HpBs"}},72:function(e,t,a){e.exports={myPosts:"my-posts_myPosts__kPpDh",button:"my-posts_button__ywz2-",posts:"my-posts_posts__1kcdt"}},73:function(e,t,a){e.exports={header:"header_header__v9FKw",loginBlock:"header_loginBlock__39tD3"}}},[[288,1,2]]]);
//# sourceMappingURL=main.5ece8236.chunk.js.map