{"ast":null,"code":"var _jsxFileName = \"/Users/ludagladushina/react-apps/react-learning-1/src/components/users/users.js\";\nimport React from 'react';\nimport * as axios from 'axios';\nimport styles from './users.module.css';\nimport image from './users-image.jpg';\nimport { NavLink } from 'react-router-dom';\n\nconst Users = props => {\n  const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\n  let pages = [];\n\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }\n  }, pages.map(p => {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: props.currentPage === p ? styles.selectedPage : styles.page,\n      onClick: () => {\n        props.onPageChanged(p);\n      },\n      key: p.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 24\n      }\n    }, p);\n  })), props.users.map(u => /*#__PURE__*/React.createElement(\"div\", {\n    key: u.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: '/profile/' + u.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: u.photos.small != null ? u.photos.small : image,\n    alt: \"avatar\",\n    className: styles.userPhoto,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 25\n    }\n  }, u.followed ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      subscriptionAPI.delete(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {\n        withCredentials: true,\n        headers: {\n          'API-KEY': '64f8be29-cf1d-466a-89b4-ad2dfe68ef0e'\n        }\n      }).then(response => {\n        if (response.data.resultCode === 0) {\n          props.unfollow(u.id);\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 31\n    }\n  }, \"Unfollow\") : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {}, {\n        withCredentials: true,\n        headers: {\n          'API-KEY': '64f8be29-cf1d-466a-89b4-ad2dfe68ef0e'\n        }\n      }).then(response => {\n        if (response.data.resultCode === 0) {\n          props.follow(u.id);\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 31\n    }\n  }, \"Follow\"))), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, u.name), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, u.status)), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, 'u.location.city'), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  }, 'u.location.country'))))));\n};\n\n_c = Users;\nexport default Users;\n\nvar _c;\n\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"sources":["/Users/ludagladushina/react-apps/react-learning-1/src/components/users/users.js"],"names":["React","axios","styles","image","NavLink","Users","props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","map","p","currentPage","selectedPage","page","onPageChanged","id","users","u","photos","small","userPhoto","followed","subscriptionAPI","delete","withCredentials","headers","then","response","data","resultCode","unfollow","post","follow","name","status"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as axios from 'axios';\nimport styles from './users.module.css';\nimport image from './users-image.jpg';\nimport { NavLink } from 'react-router-dom';\n\n\nconst Users = (props) => {\n\n    const pagesCount = Math.ceil (props.totalUsersCount / props.pageSize);\n        \n    let pages = [];\n    for (let i=1; i <= pagesCount; i++ ) {\n        pages.push(i);\n    }\n\n    return <div>\n        <div>\n            { pages.map( p  => {\n                return <span className={ props.currentPage === p ? styles.selectedPage : styles.page }\n                            onClick={ () => { props.onPageChanged(p) }  }\n                            key={ p.id }>{ p }</span>\n            })}\n        </div>\n            { \n                props.users.map( u => <div key={ u.id }>\n                    <span>\n                        <div>\n                            <NavLink to={ '/profile/' + u.id }>\n                            <img src={ u.photos.small != null ? u.photos.small : image } \n                                alt='avatar' className={ styles.userPhoto }/>\n                            </NavLink>\n                        </div>\n                        <div>\n                            { u.followed \n                            ? <button onClick={ () => { \n                                    subscriptionAPI.delete(`https://social-network.samuraijs.com/api/1.0/follow/${ u.id }`, {\n                                        withCredentials: true,\n                                        headers: {\n                                            'API-KEY': '64f8be29-cf1d-466a-89b4-ad2dfe68ef0e'\n                                        }\n                                    })\n                                            .then(response => {\n                                                if (response.data.resultCode === 0) {\n                                                    props.unfollow(u.id);\n                                                }\n                                    }); \n                                } }>Unfollow</button>\n\n                            : <button onClick={ () => { \n                                    axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${ u.id }`, {}, {\n                                        withCredentials: true,\n                                        headers: {\n                                            'API-KEY': '64f8be29-cf1d-466a-89b4-ad2dfe68ef0e'\n                                        }\n                                    })\n                                            .then(response => {\n                                                if (response.data.resultCode === 0) {\n                                                    props.follow(u.id); \n                                                }\n                                    });\n                                } }>Follow</button>}\n                        </div>\n                    </span>\n                    <span>\n                        <span>\n                            <div>{ u.name }</div>\n                            <div>{ u.status }</div>\n                        </span>\n                        <span>\n                            <div>{ 'u.location.city' }</div>\n                            <div>{ 'u.location.country' }</div>\n                        </span>\n                    </span>\n                </div>)\n            }\n    </div>\n}\n\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}